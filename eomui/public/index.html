<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EOMUI</title>
    <link rel="icon" href="favicon.svg">
    <link rel="apple-touch-icon" href="EOM_logo_192.png" sizes="192x192">
    <link rel="mask-icon" href="favicon.svg" color="#3a3a3a">
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#3a3a3a">
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const zn=!1;var wt=Array.isArray,ci=Array.prototype.indexOf,zt=Array.from,$t=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,di=Object.getOwnPropertyDescriptors,Yn=Object.prototype,hi=Array.prototype,Yt=Object.getPrototypeOf,An=Object.isExtensible;const vi=()=>{};function _i(e){for(var t=0;t<e.length;t++)e[t]()}function Jn(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function pi(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const V=2,Jt=4,Kt=8,De=16,_e=32,Re=64,Xt=128,Z=256,pt=512,q=1024,Y=2048,xe=4096,ie=8192,qe=16384,Zt=32768,bt=65536,On=1<<17,gi=1<<18,je=1<<19,mi=1<<20,Wt=1<<21,Qt=1<<22,Ce=1<<23,ht=Symbol("$state"),yi=Symbol(""),Ie=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function wi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function bi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function xi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ei(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Si(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ki(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ti(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Mi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ci(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ai(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Oi=1,Ni=2,Di=16,Ri=1,Pi=2,U=Symbol(),Fi="http://www.w3.org/1999/xhtml";function Ii(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Li=!1;function Kn(e){return e===this.v}function Bi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Xn(e){return!Bi(e,this.v)}let Ui=!1;const $i=[];function D(e,t=!1,n=!1){return vt(e,new Map,"",$i,null,n)}function vt(e,t,n,r,i=null,l=!1){if(typeof e=="object"&&e!==null){var u=t.get(e);if(u!==void 0)return u;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(wt(e)){var d=Array(e.length);t.set(e,d),i!==null&&t.set(i,d);for(var o=0;o<e.length;o+=1){var c=e[o];o in e&&(d[o]=vt(c,t,n,r,null,l))}return d}if(Yt(e)===Yn){d={},t.set(e,d),i!==null&&t.set(i,d);for(var _ in e)d[_]=vt(e[_],t,n,r,null,l);return d}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!l)return vt(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let J=null;function Ue(e){J=e}function Zn(e,t=!1,n){J={p:J,c:null,e:null,s:e,x:null,l:null}}function Qn(e){var t=J,n=t.e;if(n!==null){t.e=null;for(var r of n)_r(r)}return J=t.p,{}}function er(){return!0}let Me=[];function tr(){var e=Me;Me=[],_i(e)}function $e(e){if(Me.length===0&&!Qe){var t=Me;queueMicrotask(()=>{t===Me&&tr()})}Me.push(e)}function Wi(){for(;Me.length>0;)tr()}const qi=new WeakMap;function nr(e){var t=T;if(t===null)return k.f|=Ce,e;if((t.f&Zt)===0){if((t.f&Xt)===0)throw!t.parent&&e instanceof Error&&rr(e),e;t.b.error(e)}else We(e,t)}function We(e,t){for(;t!==null;){if((t.f&Xt)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&rr(e),e}function rr(e){const t=qi.get(e);t&&($t(e,"message",{value:t.message}),$t(e,"stack",{value:t.stack}))}const ut=new Set;let P=null,_t=null,ne=null,qt=new Set,fe=[],xt=null,jt=!1,Qe=!1;class ce{current=new Map;#r=new Map;#t=new Set;#c=0;#l=null;#o=[];#i=[];#n=[];#e=[];#s=[];skipped_effects=new Set;process(t){fe=[],_t=null,this.apply();for(const l of t)this.#a(l);if(this.#c===0){var n=ne;this.#f();var r=this.#o,i=this.#i;this.#o=[],this.#i=[],this.#n=[],_t=this,P=null,ne=n,Nn(r),Nn(i),_t=null,this.#l?.resolve()}else this.#u(this.#o),this.#u(this.#i),this.#u(this.#n);ne=null}#a(t){t.f^=q;for(var n=t.first;n!==null;){var r=n.f,i=(r&(_e|Re))!==0,l=i&&(r&q)!==0,u=l||(r&ie)!==0||this.skipped_effects.has(n);if(!u&&n.fn!==null){i?n.f^=q:(r&Jt)!==0?this.#i.push(n):kt(n)&&((n.f&De)!==0&&this.#n.push(n),yt(n));var d=n.first;if(d!==null){n=d;continue}}var o=n.parent;for(n=n.next;n===null&&o!==null;)n=o.next,o=o.parent}}#u(t){for(const n of t)((n.f&Y)!==0?this.#e:this.#s).push(n),j(n,q);t.length=0}capture(t,n){this.#r.has(t)||this.#r.set(t,n),this.current.set(t,t.v),ne?.set(t,t.v)}activate(){P=this}deactivate(){P=null,ne=null}flush(){if(fe.length>0){if(this.activate(),ir(),P!==null&&P!==this)return}else this.#c===0&&this.#f();this.deactivate();for(const t of qt)if(qt.delete(t),t(),P!==null)break}#f(){for(const t of this.#t)t();if(this.#t.clear(),ut.size>1){this.#r.clear();let t=!0;for(const n of ut){if(n===this){t=!1;continue}const r=[];for(const[l,u]of this.current){if(n.current.has(l))if(t&&u!==n.current.get(l))n.current.set(l,u);else continue;r.push(l)}if(r.length===0)continue;const i=[...n.current.keys()].filter(l=>!this.current.has(l));if(i.length>0){for(const l of r)lr(l,i);if(fe.length>0){P=n,n.apply();for(const l of fe)n.#a(l);fe=[],n.deactivate()}}}P=null}ut.delete(this)}increment(){this.#c+=1}decrement(){this.#c-=1;for(const t of this.#e)j(t,Y),Oe(t);for(const t of this.#s)j(t,xe),Oe(t);this.flush()}add_callback(t){this.#t.add(t)}settled(){return(this.#l??=Jn()).promise}static ensure(){if(P===null){const t=P=new ce;ut.add(P),Qe||ce.enqueue(()=>{P===t&&t.flush()})}return P}static enqueue(t){$e(t)}apply(){}}function ji(e){var t=Qe;Qe=!0;try{for(var n;;){if(Wi(),fe.length===0&&(P?.flush(),fe.length===0))return xt=null,n;ir()}}finally{Qe=t}}function ir(){var e=Be;jt=!0;try{var t=0;for(Pn(!0);fe.length>0;){var n=ce.ensure();if(t++>1e3){var r,i;Vi()}n.process(fe),be.clear()}}finally{jt=!1,Pn(e),xt=null}}function Vi(){try{ki()}catch(e){We(e,xt)}}let Te=null;function Nn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(qe|ie))===0&&kt(r)&&(Te=[],yt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?yr(r):r.fn=null),Te?.length>0)){be.clear();for(const i of Te)yt(i);Te=[]}}Te=null}}function lr(e,t){if(e.reactions!==null)for(const n of e.reactions){const r=n.f;(r&V)!==0?lr(n,t):(r&(Qt|De))!==0&&sr(n,t)&&(j(n,Y),Oe(n))}}function sr(e,t){if(e.deps!==null){for(const n of e.deps)if(t.includes(n)||(n.f&V)!==0&&sr(n,t))return!0}return!1}function Oe(e){for(var t=xt=e;t.parent!==null;){t=t.parent;var n=t.f;if(jt&&t===T&&(n&De)!==0)return;if((n&(Re|_e))!==0){if((n&q)===0)return;t.f^=q}}fe.push(t)}function Hi(e){let t=0,n=Ne(0),r;return()=>{ul()&&(g(n),nn(()=>(t===0&&(r=it(()=>e(()=>et(n)))),t+=1,()=>{$e(()=>{t-=1,t===0&&(r?.(),r=void 0,et(n))})})))}}var Gi=bt|je|Xt;function zi(e,t,n){new Yi(e,t,n)}class Yi{parent;#r=!1;#t;#c=null;#l;#o;#i;#n=null;#e=null;#s=null;#a=null;#u=0;#f=0;#h=!1;#d=null;#g=()=>{this.#d&&tt(this.#d,this.#u)};#m=Hi(()=>(this.#d=Ne(this.#u),()=>{this.#d=null}));constructor(t,n,r){this.#t=t,this.#l=n,this.#o=r,this.parent=T.b,this.#r=!!this.#l.pending,this.#i=rn(()=>{T.b=this;{try{this.#n=te(()=>r(this.#t))}catch(i){this.error(i)}this.#f>0?this.#_():this.#r=!1}},Gi)}#y(){try{this.#n=te(()=>this.#o(this.#t))}catch(t){this.error(t)}this.#r=!1}#w(){const t=this.#l.pending;t&&(this.#e=te(()=>t(this.#t)),ce.enqueue(()=>{this.#n=this.#v(()=>(ce.ensure(),te(()=>this.#o(this.#t)))),this.#f>0?this.#_():(Le(this.#e,()=>{this.#e=null}),this.#r=!1)}))}is_pending(){return this.#r||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#l.pending}#v(t){var n=T,r=k,i=J;de(this.#i),G(this.#i),Ue(this.#i.ctx);try{return t()}catch(l){return nr(l),null}finally{de(n),G(r),Ue(i)}}#_(){const t=this.#l.pending;this.#n!==null&&(this.#a=document.createDocumentFragment(),Ji(this.#n,this.#a)),this.#e===null&&(this.#e=te(()=>t(this.#t)))}#p(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#p(t);return}this.#f+=t,this.#f===0&&(this.#r=!1,this.#e&&Le(this.#e,()=>{this.#e=null}),this.#a&&(this.#t.before(this.#a),this.#a=null),$e(()=>{ce.ensure().flush()}))}update_pending_count(t){this.#p(t),this.#u+=t,qt.add(this.#g)}get_effect_pending(){return this.#m(),g(this.#d)}error(t){var n=this.#l.onerror;let r=this.#l.failed;if(this.#h||!n&&!r)throw t;this.#n&&(Q(this.#n),this.#n=null),this.#e&&(Q(this.#e),this.#e=null),this.#s&&(Q(this.#s),this.#s=null);var i=!1,l=!1;const u=()=>{if(i){Ii();return}i=!0,l&&Ai(),ce.ensure(),this.#u=0,this.#s!==null&&Le(this.#s,()=>{this.#s=null}),this.#r=this.has_pending_snippet(),this.#n=this.#v(()=>(this.#h=!1,te(()=>this.#o(this.#t)))),this.#f>0?this.#_():this.#r=!1};var d=k;try{G(null),l=!0,n?.(t,u),l=!1}catch(o){We(o,this.#i&&this.#i.parent)}finally{G(d)}r&&$e(()=>{this.#s=this.#v(()=>{this.#h=!0;try{return te(()=>{r(this.#t,()=>t,()=>u)})}catch(o){return We(o,this.#i.parent),null}finally{this.#h=!1}})})}}function Ji(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:rt(n);t.append(n),n=i}}function Ki(e,t,n){const r=en;if(t.length===0){n(e.map(r));return}var i=P,l=T,u=Xi();Promise.all(t.map(d=>Zi(d))).then(d=>{u();try{n([...e.map(r),...d])}catch(o){(l.f&qe)===0&&We(o,l)}i?.deactivate(),Vt()}).catch(d=>{We(d,l)})}function Xi(){var e=T,t=k,n=J,r=P;return function(){de(e),G(t),Ue(n),r?.activate()}}function Vt(){de(null),G(null),Ue(null)}function en(e){var t=V|Y,n=k!==null&&(k.f&V)!==0?k:null;return T===null||n!==null&&(n.f&Z)!==0?t|=Z:T.f|=je,{ctx:J,deps:null,effects:null,equals:Kn,f:t,fn:e,reactions:null,rv:0,v:U,wv:0,parent:n??T,ac:null}}function Zi(e,t){let n=T;n===null&&bi();var r=n.b,i=void 0,l=Ne(U),u=!k,d=new Map;return dl(()=>{var o=Jn();i=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(Vt)}catch(f){o.reject(f),Vt()}var c=P,_=r.is_pending();u&&(r.update_pending_count(1),_||(c.increment(),d.get(c)?.reject(Ie),d.delete(c),d.set(c,o)));const b=(f,p=void 0)=>{if(_||c.activate(),p)p!==Ie&&(l.f|=Ce,tt(l,p));else{(l.f&Ce)!==0&&(l.f^=Ce),tt(l,f);for(const[h,w]of d){if(d.delete(h),h===c)break;w.reject(Ie)}}u&&(r.update_pending_count(-1),_||c.decrement())};o.promise.then(b,f=>b(null,f||"unknown"))}),vr(()=>{for(const o of d.values())o.reject(Ie)}),new Promise(o=>{function c(_){function b(){_===i?o(l):c(i)}_.then(b,b)}c(i)})}function Qi(e){const t=en(e);return xr(t),t}function el(e){const t=en(e);return t.equals=Xn,t}function or(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Q(t[n])}}function tl(e){for(var t=e.parent;t!==null;){if((t.f&V)===0)return t;t=t.parent}return null}function tn(e){var t,n=T;de(tl(e));try{or(e),t=Tr(e)}finally{de(n)}return t}function ar(e){var t=tn(e);if(e.equals(t)||(e.v=t,e.wv=Sr()),!Ve)if(ne!==null)ne.set(e,e.v);else{var n=(we||(e.f&Z)!==0)&&e.deps!==null?xe:q;j(e,n)}}const be=new Map;function Ne(e,t){var n={f:0,v:e,reactions:null,equals:Kn,rv:0,wv:0};return n}function B(e,t){const n=Ne(e);return xr(n),n}function nl(e,t=!1,n=!0){const r=Ne(e);return t||(r.equals=Xn),r}function C(e,t,n=!1){k!==null&&(!re||(k.f&On)!==0)&&er()&&(k.f&(V|De|Qt|On))!==0&&!ve?.includes(e)&&Ci();let r=n?ye(t):t;return tt(e,r)}function tt(e,t){if(!e.equals(t)){var n=e.v;Ve?be.set(e,t):be.set(e,n),e.v=t;var r=ce.ensure();r.capture(e,n),(e.f&V)!==0&&((e.f&Y)!==0&&tn(e),j(e,(e.f&Z)===0?q:xe)),e.wv=Sr(),ur(e,Y),T!==null&&(T.f&q)!==0&&(T.f&(_e|Re))===0&&(X===null?_l([e]):X.push(e))}return t}function et(e){C(e,e.v+1)}function ur(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var l=n[i],u=l.f,d=(u&Y)===0;d&&j(l,t),(u&V)!==0?ur(l,xe):d&&((u&De)!==0&&Te!==null&&Te.push(l),Oe(l))}}function ye(e){if(typeof e!="object"||e===null||ht in e)return e;const t=Yt(e);if(t!==Yn&&t!==hi)return e;var n=new Map,r=wt(e),i=B(0),l=Ae,u=d=>{if(Ae===l)return d();var o=k,c=Ae;G(null),In(l);var _=d();return G(o),In(c),_};return r&&n.set("length",B(e.length)),new Proxy(e,{defineProperty(d,o,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Ti();var _=n.get(o);return _===void 0?_=u(()=>{var b=B(c.value);return n.set(o,b),b}):C(_,c.value,!0),!0},deleteProperty(d,o){var c=n.get(o);if(c===void 0){if(o in d){const _=u(()=>B(U));n.set(o,_),et(i)}}else C(c,U),et(i);return!0},get(d,o,c){if(o===ht)return e;var _=n.get(o),b=o in d;if(_===void 0&&(!b||Ze(d,o)?.writable)&&(_=u(()=>{var p=ye(b?d[o]:U),h=B(p);return h}),n.set(o,_)),_!==void 0){var f=g(_);return f===U?void 0:f}return Reflect.get(d,o,c)},getOwnPropertyDescriptor(d,o){var c=Reflect.getOwnPropertyDescriptor(d,o);if(c&&"value"in c){var _=n.get(o);_&&(c.value=g(_))}else if(c===void 0){var b=n.get(o),f=b?.v;if(b!==void 0&&f!==U)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(d,o){if(o===ht)return!0;var c=n.get(o),_=c!==void 0&&c.v!==U||Reflect.has(d,o);if(c!==void 0||T!==null&&(!_||Ze(d,o)?.writable)){c===void 0&&(c=u(()=>{var f=_?ye(d[o]):U,p=B(f);return p}),n.set(o,c));var b=g(c);if(b===U)return!1}return _},set(d,o,c,_){var b=n.get(o),f=o in d;if(r&&o==="length")for(var p=c;p<b.v;p+=1){var h=n.get(p+"");h!==void 0?C(h,U):p in d&&(h=u(()=>B(U)),n.set(p+"",h))}if(b===void 0)(!f||Ze(d,o)?.writable)&&(b=u(()=>B(void 0)),C(b,ye(c)),n.set(o,b));else{f=b.v!==U;var w=u(()=>ye(c));C(b,w)}var m=Reflect.getOwnPropertyDescriptor(d,o);if(m?.set&&m.set.call(_,c),!f){if(r&&typeof o=="string"){var v=n.get("length"),A=Number(o);Number.isInteger(A)&&A>=v.v&&C(v,A+1)}et(i)}return!0},ownKeys(d){g(i);var o=Reflect.ownKeys(d).filter(b=>{var f=n.get(b);return f===void 0||f.v!==U});for(var[c,_]of n)_.v!==U&&!(c in d)&&o.push(c);return o},setPrototypeOf(){Mi()}})}var Dn,fr,cr,dr;function rl(){if(Dn===void 0){Dn=window,fr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;cr=Ze(t,"firstChild").get,dr=Ze(t,"nextSibling").get,An(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),An(n)&&(n.__t=void 0)}}function Et(e=""){return document.createTextNode(e)}function gt(e){return cr.call(e)}function rt(e){return dr.call(e)}function R(e,t){return gt(e)}function It(e,t=!1){{var n=gt(e);return n instanceof Comment&&n.data===""?rt(n):n}}function N(e,t=1,n=!1){let r=e;for(;t--;)r=rt(r);return r}function il(e){e.textContent=""}function hr(){return!1}let Rn=!1;function ll(){Rn||(Rn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function St(e){var t=k,n=T;G(null),de(null);try{return e()}finally{G(t),de(n)}}function sl(e,t,n,r=n){e.addEventListener(t,()=>St(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),ll()}function ol(e){T===null&&k===null&&Si(),k!==null&&(k.f&Z)!==0&&T===null&&Ei(),Ve&&xi()}function al(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function pe(e,t,n,r=!0){var i=T;i!==null&&(i.f&ie)!==0&&(e|=ie);var l={ctx:J,deps:null,nodes_start:null,nodes_end:null,f:e|Y,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{yt(l),l.f|=Zt}catch(o){throw Q(l),o}else t!==null&&Oe(l);if(r){var u=l;if(n&&u.deps===null&&u.teardown===null&&u.nodes_start===null&&u.first===u.last&&(u.f&je)===0&&(u=u.first),u!==null&&(u.parent=i,i!==null&&al(u,i),k!==null&&(k.f&V)!==0&&(e&Re)===0)){var d=k;(d.effects??=[]).push(u)}}return l}function ul(){return k!==null&&!re}function vr(e){const t=pe(Kt,null,!1);return j(t,q),t.teardown=e,t}function fl(e){ol();var t=T.f,n=!k&&(t&_e)!==0&&(t&Zt)===0;if(n){var r=J;(r.e??=[]).push(e)}else return _r(e)}function _r(e){return pe(Jt|mi,e,!1)}function cl(e){ce.ensure();const t=pe(Re|je,e,!0);return(n={})=>new Promise(r=>{n.outro?Le(t,()=>{Q(t),r(void 0)}):(Q(t),r(void 0))})}function pr(e){return pe(Jt,e,!1)}function dl(e){return pe(Qt|je,e,!0)}function nn(e,t=0){return pe(Kt|t,e,!0)}function Ye(e,t=[],n=[]){Ki(t,n,r=>{pe(Kt,()=>e(...r.map(g)),!0)})}function rn(e,t=0){var n=pe(De|t,e,!0);return n}function te(e,t=!0){return pe(_e|je,e,!0,t)}function gr(e){var t=e.teardown;if(t!==null){const n=Ve,r=k;Fn(!0),G(null);try{t.call(null)}finally{Fn(n),G(r)}}}function mr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&St(()=>{i.abort(Ie)});var r=n.next;(n.f&Re)!==0?n.parent=null:Q(n,t),n=r}}function hl(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&_e)===0&&Q(t),t=n}}function Q(e,t=!0){var n=!1;(t||(e.f&gi)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(vl(e.nodes_start,e.nodes_end),n=!0),mr(e,t&&!n),mt(e,0),j(e,qe);var r=e.transitions;if(r!==null)for(const l of r)l.stop();gr(e);var i=e.parent;i!==null&&i.first!==null&&yr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function vl(e,t){for(;e!==null;){var n=e===t?null:rt(e);e.remove(),e=n}}function yr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Le(e,t){var n=[];ln(e,n,!0),wr(n,()=>{Q(e),t&&t()})}function wr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function ln(e,t,n){if((e.f&ie)===0){if(e.f^=ie,e.transitions!==null)for(const u of e.transitions)(u.is_global||n)&&t.push(u);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&bt)!==0||(r.f&_e)!==0;ln(r,t,l?n:!1),r=i}}}function sn(e){br(e,!0)}function br(e,t){if((e.f&ie)!==0){e.f^=ie,(e.f&q)===0&&(j(e,Y),Oe(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&bt)!==0||(n.f&_e)!==0;br(n,i?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Be=!1;function Pn(e){Be=e}let Ve=!1;function Fn(e){Ve=e}let k=null,re=!1;function G(e){k=e}let T=null;function de(e){T=e}let ve=null;function xr(e){k!==null&&(ve===null?ve=[e]:ve.push(e))}let W=null,z=0,X=null;function _l(e){X=e}let Er=1,nt=0,Ae=nt;function In(e){Ae=e}let we=!1;function Sr(){return++Er}function kt(e){var t=e.f;if((t&Y)!==0)return!0;if((t&xe)!==0){var n=e.deps,r=(t&Z)!==0;if(n!==null){var i,l,u=(t&pt)!==0,d=r&&T!==null&&!we,o=n.length;if((u||d)&&(T===null||(T.f&qe)===0)){var c=e,_=c.parent;for(i=0;i<o;i++)l=n[i],(u||!l?.reactions?.includes(c))&&(l.reactions??=[]).push(c);u&&(c.f^=pt),d&&_!==null&&(_.f&Z)===0&&(c.f^=Z)}for(i=0;i<o;i++)if(l=n[i],kt(l)&&ar(l),l.wv>e.wv)return!0}(!r||T!==null&&!we)&&j(e,q)}return!1}function kr(e,t,n=!0){var r=e.reactions;if(r!==null&&!ve?.includes(e))for(var i=0;i<r.length;i++){var l=r[i];(l.f&V)!==0?kr(l,t,!1):t===l&&(n?j(l,Y):(l.f&q)!==0&&j(l,xe),Oe(l))}}function Tr(e){var t=W,n=z,r=X,i=k,l=we,u=ve,d=J,o=re,c=Ae,_=e.f;W=null,z=0,X=null,we=(_&Z)!==0&&(re||!Be||k===null),k=(_&(_e|Re))===0?e:null,ve=null,Ue(e.ctx),re=!1,Ae=++nt,e.ac!==null&&(St(()=>{e.ac.abort(Ie)}),e.ac=null);try{e.f|=Wt;var b=e.fn,f=b(),p=e.deps;if(W!==null){var h;if(mt(e,z),p!==null&&z>0)for(p.length=z+W.length,h=0;h<W.length;h++)p[z+h]=W[h];else e.deps=p=W;if(!we||(_&V)!==0&&e.reactions!==null)for(h=z;h<p.length;h++)(p[h].reactions??=[]).push(e)}else p!==null&&z<p.length&&(mt(e,z),p.length=z);if(er()&&X!==null&&!re&&p!==null&&(e.f&(V|xe|Y))===0)for(h=0;h<X.length;h++)kr(X[h],e);return i!==null&&i!==e&&(nt++,X!==null&&(r===null?r=X:r.push(...X))),(e.f&Ce)!==0&&(e.f^=Ce),f}catch(w){return nr(w)}finally{e.f^=Wt,W=t,z=n,X=r,k=i,we=l,ve=u,Ue(d),re=o,Ae=c}}function pl(e,t){let n=t.reactions;if(n!==null){var r=ci.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&V)!==0&&(W===null||!W.includes(t))&&(j(t,xe),(t.f&(Z|pt))===0&&(t.f^=pt),or(t),mt(t,0))}function mt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)pl(e,n[r])}function yt(e){var t=e.f;if((t&qe)===0){j(e,q);var n=T,r=Be;T=e,Be=!0;try{(t&De)!==0?hl(e):mr(e),gr(e);var i=Tr(e);e.teardown=typeof i=="function"?i:null,e.wv=Er;var l;zn&&Ui&&(e.f&Y)!==0&&e.deps}finally{Be=r,T=n}}}async function gl(){await Promise.resolve(),ji()}function g(e){var t=e.f,n=(t&V)!==0;if(k!==null&&!re){var r=T!==null&&(T.f&qe)!==0;if(!r&&!ve?.includes(e)){var i=k.deps;if((k.f&Wt)!==0)e.rv<nt&&(e.rv=nt,W===null&&i!==null&&i[z]===e?z++:W===null?W=[e]:(!we||!W.includes(e))&&W.push(e));else{(k.deps??=[]).push(e);var l=e.reactions;l===null?e.reactions=[k]:l.includes(k)||l.push(k)}}}else if(n&&e.deps===null&&e.effects===null){var u=e,d=u.parent;d!==null&&(d.f&Z)===0&&(u.f^=Z)}if(Ve){if(be.has(e))return be.get(e);if(n){u=e;var o=u.v;return((u.f&q)===0&&u.reactions!==null||Mr(u))&&(o=tn(u)),be.set(u,o),o}}else if(n){if(u=e,ne?.has(u))return ne.get(u);kt(u)&&ar(u)}if(ne?.has(e))return ne.get(e);if((e.f&Ce)!==0)throw e.v;return e.v}function Mr(e){if(e.v===U)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(be.has(t)||(t.f&V)!==0&&Mr(t))return!0;return!1}function it(e){var t=re;try{return re=!0,e()}finally{re=t}}const ml=-7169;function j(e,t){e.f=e.f&ml|t}const yl=["touchstart","touchmove"];function wl(e){return yl.includes(e)}const Cr=new Set,Ht=new Set;function bl(e,t,n,r={}){function i(l){if(r.capture||Xe.call(t,l),!l.cancelBubble)return St(()=>n?.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?$e(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function ft(e,t,n,r,i){var l={capture:r,passive:i},u=bl(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&vr(()=>{t.removeEventListener(e,u,l)})}function xl(e){for(var t=0;t<e.length;t++)Cr.add(e[t]);for(var n of Ht)n(e)}let Ln=null;function Xe(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],l=i[0]||e.target;Ln=e;var u=0,d=Ln===e&&e.__root;if(d){var o=i.indexOf(d);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;o<=c&&(u=o)}if(l=i[u]||e.target,l!==t){$t(e,"currentTarget",{configurable:!0,get(){return l||n}});var _=k,b=T;G(null),de(null);try{for(var f,p=[];l!==null;){var h=l.assignedSlot||l.parentNode||l.host||null;try{var w=l["__"+r];if(w!=null&&(!l.disabled||e.target===l))if(wt(w)){var[m,...v]=w;m.apply(l,[e,...v])}else w.call(l,e)}catch(A){f?p.push(A):f=A}if(e.cancelBubble||h===t||h===null)break;l=h}if(f){for(let A of p)queueMicrotask(()=>{throw A});throw f}}finally{e.__root=t,delete e.currentTarget,G(_),de(b)}}}function El(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3C!---->"),t.content}function Gt(e,t){var n=T;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function ge(e,t){var n=(t&Ri)!==0,r=(t&Pi)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=El(l?e:"<!>"+e),n||(i=gt(i)));var u=r||fr?document.importNode(i,!0):i.cloneNode(!0);if(n){var d=gt(u),o=u.lastChild;Gt(d,o)}else Gt(u,u);return u}}function Sl(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Et();return e.append(t,n),Gt(t,n),e}function oe(e,t){e!==null&&e.before(t)}function ae(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function kl(e,t){return Tl(e,t)}const Fe=new Map;function Tl(e,{target:t,anchor:n,props:r={},events:i,context:l,intro:u=!0}){rl();var d=new Set,o=b=>{for(var f=0;f<b.length;f++){var p=b[f];if(!d.has(p)){d.add(p);var h=wl(p);t.addEventListener(p,Xe,{passive:h});var w=Fe.get(p);w===void 0?(document.addEventListener(p,Xe,{passive:h}),Fe.set(p,1)):Fe.set(p,w+1)}}};o(zt(Cr)),Ht.add(o);var c=void 0,_=cl(()=>{var b=n??t.appendChild(Et());return zi(b,{pending:()=>{}},f=>{if(l){Zn({});var p=J;p.c=l}i&&(r.$$events=i),c=e(f,r)||{},l&&Qn()}),()=>{for(var f of d){t.removeEventListener(f,Xe);var p=Fe.get(f);--p===0?(document.removeEventListener(f,Xe),Fe.delete(f)):Fe.set(f,p)}Ht.delete(o),b!==n&&b.parentNode?.removeChild(b)}});return Ml.set(c,_),c}let Ml=new WeakMap;function Je(e,t,n=!1){var r=e,i=null,l=null,u=U,d=n?bt:0,o=!1;const c=(p,h=!0)=>{o=!0,f(h,p)};var _=null;function b(){_!==null&&(_.lastChild.remove(),r.before(_),_=null);var p=u?i:l,h=u?l:i;p&&sn(p),h&&Le(h,()=>{u?l=null:i=null})}const f=(p,h)=>{if(u!==(u=p)){var w=hr(),m=r;if(w&&(_=document.createDocumentFragment(),_.append(m=Et())),u?i??=h&&te(()=>h(m)):l??=h&&te(()=>h(m)),w){var v=P,A=u?i:l,x=u?l:i;A&&v.skipped_effects.delete(A),x&&v.skipped_effects.add(x),v.add_callback(b)}else b()}};rn(()=>{o=!1,t(c),o||f(null,null)},d)}function ct(e,t){return t}function Cl(e,t,n){for(var r=e.items,i=[],l=t.length,u=0;u<l;u++)ln(t[u].e,i,!0);var d=l>0&&i.length===0&&n!==null;if(d){var o=n.parentNode;il(o),o.append(n),r.clear(),ue(e,t[0].prev,t[l-1].next)}wr(i,()=>{for(var c=0;c<l;c++){var _=t[c];d||(r.delete(_.k),ue(e,_.prev,_.next)),Q(_.e,!d)}})}function dt(e,t,n,r,i,l=null){var u=e,d={flags:t,items:new Map,first:null},o=null,c=!1,_=new Map,b=el(()=>{var w=n();return wt(w)?w:w==null?[]:zt(w)}),f,p;function h(){Al(p,f,d,_,u,i,t,r,n),l!==null&&(f.length===0?o?sn(o):o=te(()=>l(u)):o!==null&&Le(o,()=>{o=null}))}rn(()=>{p??=T,f=g(b);var w=f.length;if(!(c&&w===0)){c=w===0;var m,v,A,x;if(hr()){var O=new Set,H=P;for(v=0;v<w;v+=1){A=f[v],x=r(A,v);var Ee=d.items.get(x)??_.get(x);Ee?Ar(Ee,A,v):(m=Or(null,d,null,null,A,x,v,i,t,n,!0),_.set(x,m)),O.add(x)}for(const[he,ee]of d.items)O.has(he)||H.skipped_effects.add(ee.e);H.add_callback(h)}else h();g(b)}})}function Al(e,t,n,r,i,l,u,d,o){var c=t.length,_=n.items,b=n.first,f=b,p,h=null,w=[],m=[],v,A,x,O;for(O=0;O<c;O+=1){if(v=t[O],A=d(v,O),x=_.get(A),x===void 0){var H=r.get(A);if(H!==void 0){r.delete(A),_.set(A,H);var Ee=h?h.next:f;ue(n,h,H),ue(n,H,Ee),Lt(H,Ee,i),h=H}else{var he=f?f.e.nodes_start:i;h=Or(he,n,h,h===null?n.first:h.next,v,A,O,l,u,o)}_.set(A,h),w=[],m=[],f=h.next;continue}if(Ar(x,v,O),(x.e.f&ie)!==0&&sn(x.e),x!==f){if(p!==void 0&&p.has(x)){if(w.length<m.length){var ee=m[0],L;h=ee.prev;var le=w[0],se=w[w.length-1];for(L=0;L<w.length;L+=1)Lt(w[L],ee,i);for(L=0;L<m.length;L+=1)p.delete(m[L]);ue(n,le.prev,se.next),ue(n,h,le),ue(n,se,ee),f=ee,h=se,O-=1,w=[],m=[]}else p.delete(x),Lt(x,f,i),ue(n,x.prev,x.next),ue(n,x,h===null?n.first:h.next),ue(n,h,x),h=x;continue}for(w=[],m=[];f!==null&&f.k!==A;)(f.e.f&ie)===0&&(p??=new Set).add(f),m.push(f),f=f.next;if(f===null)continue;x=f}w.push(x),h=x,f=x.next}if(f!==null||p!==void 0){for(var Se=p===void 0?[]:zt(p);f!==null;)(f.e.f&ie)===0&&Se.push(f),f=f.next;var $=Se.length;if($>0){var He=null;Cl(n,Se,He)}}e.first=n.first&&n.first.e,e.last=h&&h.e;for(var ke of r.values())Q(ke.e);r.clear()}function Ar(e,t,n,r){tt(e.v,t),e.i=n}function Or(e,t,n,r,i,l,u,d,o,c,_){var b=(o&Oi)!==0,f=(o&Di)===0,p=b?f?nl(i,!1,!1):Ne(i):i,h=(o&Ni)===0?u:Ne(u),w={i:h,v:p,k:l,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=Et())}return w.e=te(()=>d(e,p,h,c),Li),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?_||(t.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function Lt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==null&&l!==r;){var u=rt(l);i.before(l),l=u}}function ue(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ol(e,t,n){pr(()=>{var r=it(()=>t(e,n?.())||{});if(r?.destroy)return()=>r.destroy()})}function Nr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Nr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nl(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Nr(e))&&(r&&(r+=" "),r+=t);return r}function Bn(e){return typeof e=="object"?Nl(e):e??""}function Dl(e,t,n){var r=e==null?"":""+e;return r===""?null:r}function Un(e,t,n,r,i,l){var u=e.__className;if(u!==n||u===void 0){var d=Dl(n);d==null?e.removeAttribute("class"):e.className=d,e.__className=n}return l}const Rl=Symbol("is custom element"),Pl=Symbol("is html");function $n(e,t){var n=on(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Wn(e,t){var n=on(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function K(e,t,n,r){var i=on(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[yi]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Fl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function on(e){return e.__attributes??={[Rl]:e.nodeName.includes("-"),[Pl]:e.namespaceURI===Fi}}var qn=new Map;function Fl(e){var t=e.getAttribute("is")||e.nodeName,n=qn.get(t);if(n)return n;qn.set(t,n=[]);for(var r,i=e,l=Element.prototype;l!==i;){r=di(i);for(var u in r)r[u].set&&n.push(u);i=Yt(i)}return n}function Ke(e,t,n=t){var r=new WeakSet;sl(e,"input",async i=>{var l=i?e.defaultValue:e.value;if(l=Bt(e)?Ut(l):l,n(l),P!==null&&r.add(P),await gl(),l!==(l=t())){var u=e.selectionStart,d=e.selectionEnd,o=e.value.length;if(e.value=l??"",d!==null){var c=e.value.length;u===d&&d===o&&c>o?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=u,e.selectionEnd=Math.min(d,c))}}}),it(t)==null&&e.value&&(n(Bt(e)?Ut(e.value):e.value),P!==null&&r.add(P)),nn(()=>{var i=t();if(e===document.activeElement){var l=_t??P;if(r.has(l))return}Bt(e)&&i===Ut(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Bt(e){var t=e.type;return t==="number"||t==="range"}function Ut(e){return e===""?null:+e}function jn(e,t){return e===t||e?.[ht]===t}function Vn(e={},t,n,r){return pr(()=>{var i,l;return nn(()=>{i=l,l=[],it(()=>{e!==n(...l)&&(t(e,...l),i&&jn(n(...i),e)&&t(null,...i))})}),()=>{$e(()=>{l&&jn(n(...l),e)&&t(null,...l)})}}),e}function Hn(e){J===null&&wi(),fl(()=>{const t=it(e);if(typeof t=="function")return t})}const Il="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Il);function Gn(e,t,n){console.log(`Chart time changed: ${g(t)}`),n()}var Ll=(e,t,n,r)=>t(n(),r[n()].value),Bl=ge('<div style="width: 100%;"><label> </label> <input type="range" style="width: 100%;"/></div>'),Ul=(e,t)=>{e.target!==g(t)&&g(t).close()},$l=(e,t)=>{e.key==="Escape"&&g(t).close()},Wl=(e,t)=>{e.key==="Enter"&&t()},ql=(e,t)=>{t()},jl=ge('<span style="color: green; font-size: small;">● Connected</span>'),Vl=ge('<span style="color: red; font-size: small;">● Disconnected</span>'),Hl=ge('<span style="color: green; font-size: small;">● Connected</span>'),Gl=ge('<span style="color: red; font-size: small;">● Disconnected</span>'),zl=(e,t)=>C(t,!0),Yl=()=>{},Jl=(e,t,n)=>{t("setMode","manual"),t("setMotor",0),C(n,0)},Kl=(e,t)=>{t("triggerArousal",null)},Xl=(e,t)=>{t("resetDenied",null)},Zl=(e,t,n,r,i,l,u)=>{t("setMode",g(n)),g(n)==="ORGASM"&&r.vibration_mode.value===3&&i("vibration_mode",2),C(l,D(u)[D(u).length-1].motor,!0)},Ql=ge('<div class="radioBoxItem"><input type="radio" name="runmode"/> <label> </label></div>'),es=(e,t,n)=>t("vibration_mode",Number(n())),ts=ge('<div class="radioBoxItem"><input type="radio" name="vibemode"/> <label> </label></div>'),ns=(e,t,n)=>{t("setMotor",g(n))},rs=ge('<label for="pleasure" style="color:orange"> </label> <input id="currentPleasure" type="range" min="0" step="1" style="width: 100%;accent-color: orange; background: linear-gradient(to right, orange 0%, orange 100%);"/>',1),is=(e,t)=>g(t).close(),ls=ge('<div class="mainContainer" role="none"><div style="position: relative; padding: .5%; width:100%;"><div style="display: flex; justify-content:space-between;"><div style="white-space: nowrap;"><input id="url" type="text" style="margin-bottom: .5%;"/><input type="button" value="Connect"/> <!></div> <div style="white-space: nowrap; display: flex; align-items: center;"><button style="cursor: pointer; margin: .2%;padding-bottom: 0;" aria-label="Connect via bluetooth"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 976" width="23" height="20" aria-label="Bluetooth"><rect ry="291" height="976" width="640" fill="#0a3d91"></rect><path d="m157 330 305 307-147 178V179l147 170-305 299" stroke="#FFF" stroke-width="53" fill="none"></path></svg></button> <!></div> <button style="cursor: pointer; margin: .2%;padding-bottom: 0;" aria-label="Open settings"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" cursor="pointer" aria-label="Settings"><path fill="#ccc" d="M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"></path></svg></button></div> <canvas style="position: relative; height:40vh; width:100%; "></canvas> <div class="statBoxes"><div class="statBoxButton" title="Current pressure level" style="border-color: green; color: green; cursor:auto" role="none"> </div> <div class="statBoxButton" title="Click to halt pleasure immediately!" style="border-color: orange; color: orange;" role="none"> </div> <div class="statBoxButton" title="Click to trigger a cooldown period" style="border-color: red; color: red;" role="none"> </div> <div class="statBoxButton" style="border-color: #FF7FFF; color: #FF7FFF;" role="none"> </div></div> <div class="radioBoxes"><div class="radioBox"><div style="font-weight: bold; margin-right: 2em;">Control:</div> <!></div> <div class="radioBox"><div style="font-weight: bold; margin-right: 0.5em;">Mode:</div> <!></div></div> <!> <!> <!> <label for="chartTime"> </label> <input id="chartTime" type="range" min="1" max="60" step="1" style="width: 100%;"/></div></div> <dialog style="position: absolute; top: 10%; width: 80%; margin: auto;padding: 1em;  vertical-align: top;"><div style="padding: 0; margin-top: 0;"><button style="float:right; font-size: 1.5em; background: none; border: none; cursor: pointer;" aria-label="Close settings">&times;</button> <h2>Settings</h2> <hr/> <label for="chartTime"> </label> <input title="This changes how many denied orgasms it takes to reach 100% on its chart line." id="maxDenied" type="range" min="1" max="100" step="1" style="width: 100%;"/> <!></div></dialog>',1);function ss(e,t){Zn(t,!0);const n=(s,a=vi)=>{var E=Bl(),y=R(E),S=R(y),M=N(y,2);M.__change=[Ll,Mt,a,c],Ye(I=>{K(y,"for",a()),K(y,"title",c[a()].description),ae(S,`${c[a()].label??""} :
      ${I??""}`),K(M,"id",a()),K(M,"title",c[a()].description),K(M,"min",c[a()].min),K(M,"max",c[a()].max)},[()=>c[a()].type==="%"?Math.round(c[a()].value/c[a()].max*100).toString()+" %":c[a()].value.toString()+" "+c[a()].type]),Ke(M,()=>c[a()].value,I=>c[a()].value=I),oe(s,E)};let r=window.location.protocol==="https:",i=B(ye(window.location.toString().replace("/ui","/").replace(/http(s?):\/\//,r?"wss://":"ws://").replace("localhost:5173","192.168.4.1")));(window.location.toString().match(/\.\d+\/?$/)??[]).length>0&&window.location.replace(window.location.toString()+"ws");let l={1:"RampStop",2:"Depletion",3:"Enhancement"},u=["MANUAL","AUTOMATIC","ORGASM"];function d(s,a){if(a==="pleasure"||a==="motor")return typeof s.motor=="number"?Math.round(s.motor/c.max_pleasure.value*O):0;if(a==="runMode")return u.indexOf(s.runMode);if(a==="denials")return typeof s.denied=="number"?Math.round(s.denied/g(ee)*O):0;const E=s[a];return typeof E=="number"?E:0}function o(s,a){if(s.length===0)return 0;const E=s[s.length-1];return d(E,a)}let c=ye({sensitivity_threshold:{value:1e3,min:0,max:4096,label:"Arousal Threshold",type:"%",description:"The arousal threshold for orgasm detection. Lower values stop sooner."},vibration_mode:{value:2,min:1,max:4,label:"Mode",type:"mode",description:"The pleasure algorithm used during automatic stimulation."},max_pleasure:{value:255,min:0,max:255,label:"Maximum Pleasure Intensity",type:"%",description:"Maximum intensity of pleasure during stimulation."},motor_ramp_time_s:{value:10,min:0,max:120,label:"Pleasure Ramp Time",type:"seconds",description:"Time (s) taken to ramp the pleasure from the starting amount to the maximum."},initial_pleasure:{value:10,min:0,max:255,label:"Starting Pleasure Intensity",type:"%",description:"Initial intensity of pleasure when stimulation starts."},edge_delay:{value:10,min:0,max:60,label:"Edge Delay",type:"seconds",description:"Minimum time to wait after edge detection before resuming stimulation."},max_additional_delay:{value:5,min:0,max:60,label:"Max Additional Delay",type:"seconds",description:"Maximum time (s) that can be added to the edge delay before resuming stimulation. A random number will be picked between 0 and this setting each cycle. 0 to disable."},minimum_on_time:{value:5,min:0,max:60,label:"Minimum On Time",type:"seconds",description:"Time after stimulation restarts before edge detection is resumed."},pressure_smoothing:{value:10,min:0,max:100,label:"Pressure Smoothing",type:"samples",description:"Number of samples to take an average of. Higher numbers can reduce false positives but may result in lag and lower resolution!"},update_frequency_hz:{value:50,min:1,max:100,label:"Update Frequency (Hz)",type:"Hz",description:"Update frequency for pressure readings and arousal steps."},sensor_sensitivity:{value:16,min:1,max:255,label:"Sensor Sensitivity",type:"%",description:"Analog pressure sensor prescaling. Higher values are more sensitive."},clench_pressure_sensitivity:{value:3e3,min:0,max:4096,label:"Clench Pressure Sensitivity",type:"",description:"Minimum additional Arousal level to detect clench"},clench_time_to_orgasm_ms:{value:5e3,min:0,max:6e4,label:"Clench Time to Orgasm (ms)",type:"ms",description:"Threshold variable that is milliseconds count of clench to detect orgasm."},clench_time_threshold_ms:{value:2e3,min:0,max:6e4,label:"Clench Time Threshold (ms)",type:"ms",description:"Threshold variable that is milliseconds counts to detect the start of clench."},clench_detector_in_edging:{value:1,min:0,max:1,label:"Clench Detector in Edging",type:"bool",description:"Enable clench detection while in edging mode."},max_clench_duration_ms:{value:2e4,min:0,max:6e4,label:"Max Clench Duration (ms)",type:"ms",description:"Duration the clench detector can raise arousal if clench detector turned on in edging session."},auto_edging_duration_minutes:{value:15,min:1,max:120,label:"Auto-Edging Duration",type:"minutes",description:"How long to edge before permiting an orgasm."},post_orgasm_duration_seconds:{value:60,min:0,max:180,label:"Post Orgasm Duration",type:"seconds",description:"How long to stimulate after orgasm detected."},use_post_orgasm:{value:1,min:0,max:1,label:"Use Post Orgasm",type:"bool",description:"Use post-orgasm torture mode and functionality."},use_average_values:{value:1,min:0,max:1,label:"Use Average Values",type:"bool",description:"Use average values when calculating arousal. This smooths noisy data."}}),_=["sensitivity_threshold","motor_ramp_time_s","edge_delay"],b=["max_pleasure","initial_pleasure","sensor_sensitivity","max_additional_delay","minimum_on_time","pressure_smoothing","update_frequency_hz","sensor_sensitivity","clench_pressure_sensitivity","clench_time_to_orgasm_ms","clench_time_threshold_ms","clench_detector_in_edging","max_clench_duration_ms","post_orgasm_duration_seconds","use_post_orgasm","use_average_values"],f=ye([{pressure:0,arousal:0,motor:0,threshold:0,denied:0,runMode:"AUTOMATIC",localTime:0},{pressure:4e3,arousal:4e3,motor:255,threshold:400,denied:10,runMode:"AUTOMATIC",localTime:Date.now()}]),p={pressure:["green",1],pleasure:["orange",2],arousal:["red",2],threshold:["red",1],denials:["#FF7FFF",1]},h=B(0),w=B(5),m,v,A=5;const x={top:10,right:0,bottom:5,left:5};let O=4096,H=2,Ee=4,he=B(0),ee=B(20),L=B(!1),le=B(!1),se=null,Se=null,$=B(void 0),He=B(!1),ke=B(void 0);function an(){console.log("Chart ready"),v.canvas.width=window.innerWidth,v.canvas.height=window.innerHeight;const s=Object.entries(p),a=Math.round((m.width-m.width*(x.left+x.right)/100)/(s.length+1));let E=Math.round(v.canvas.height*x.top/100),y=a/4,S=y/4;v.font="bold 1.5em sans-serif",v.fontStretch="condensed",v.textRendering="optimizeLegibility",v.fillStyle="black",v.fillRect(0,0,m.width,m.height);for(let I=0;I<=O;I+=O/4){const F=v.canvas.height-I/O*(v.canvas.height-v.canvas.height*(x.top+x.bottom)/100)-v.canvas.height*x.bottom/100;v.fillStyle="white",v.fillText(Math.round(I/O*100).toString()+"%",5,F,Math.round(m.width*x.left/100/1.5))}let M=a;for(const[I,[F,me]]of s)v.fillStyle=F,v.fillRect(M,Math.round(v.canvas.height*x.top/100*1.25)-E,y,Math.round(E/2)),v.fillText(I,M+y+S,E/1.666,a-y-S),M+=a;v.fillStyle="black",lt()}function un(s,a){if(s[1]===s[0])return M=>0;const E=(a[1]-a[0])/(s[1]-s[0]),y=Math.min(a[0],a[1]),S=Math.max(a[0],a[1]);return M=>Math.max(y,Math.min(S,a[0]+E*(M-s[0])))}function Tt(s){return s.arousal>=s.threshold}function fn(s){return(s.cooldown??0)>0&&s.motor==0}function lt(){if(!v||!m)return;const s=D(f);if(s.length===0)return;const a=un([0,s.length-1],[m.width*x.left/100,m.width-m.width*x.right/100]),E=un([0,O],[m.height-m.height*x.bottom/100,m.height*x.top/100+H]);Tt(s[s.length-1])||fn(s[s.length-1])?g(h)>=A?(v.fillStyle=v.fillStyle=="#111111"?"#330000":"#111111",C(h,0)):C(h,g(h)+1):v.fillStyle="#111111",v.fillRect(m.width*x.left/100-H,m.height*x.top/100-H,m.width-m.width*x.right/100,m.height-m.height*x.bottom/100);for(let y=0;y<=O;y+=O/4){const S=v.canvas.height-y/O*(v.canvas.height-v.canvas.height*(x.top+x.bottom)/100)-v.canvas.height*x.bottom/100;v.beginPath(),v.setLineDash([5,5]),v.strokeStyle="white",v.moveTo(m.width*x.left/100,S),v.lineTo(m.width-m.width*x.right/100,S),v.stroke(),v.setLineDash([])}if(v.font=m.width>600?m.width>900?"bold 3em sans-serif":"2em sans-serif":"1em sans-serif",fn(s[s.length-1]))v.strokeText(Tt(s[s.length-1])?"DENIED ORGASM - IN TIME OUT":`DENIED FOR ${o(s,"cooldown")} MORE SECONDS`,m.width/4,m.height/2);else if((s[s.length-1].runMode??"")==="ORGASM"){let y=o(s,"permit"),S=y>60?Math.ceil(y/60).toString()+" MINUTES":y.toString()+" SECOND"+(y>1?"S":"");v.strokeText(`ORGASM PERMITTED IN ${S}`,m.width/5,m.height/2)}for(const[y,[S,M]]of Object.entries(p))v.strokeStyle=S,v.setLineDash(y==="threshold"?[10,10]:[]),v.beginPath(),v.moveTo(m.width*x.left/100+H,E(d(s[0],y))),s.forEach((I,F)=>{Tt(I)&&y==="arousal"?v.lineWidth=M*Ee:v.lineWidth=M,v.lineTo(a(F),E(d(I,y))),v.stroke(),v.beginPath(),v.moveTo(a(F),E(d(I,y)))})}function Dr(s){lt()}function Rr(s){console.log("Received configuration data:",s);for(const[a,E]of Object.entries(s))a in c&&(c[a].value=Number(E))}function Pr(s){try{let a=JSON.parse(s.data);if(!a){console.warn("Received empty data:",a);return}if(!a.readings){a.wifiStatus||(a.configList?Rr(a.configList):a.setMode!==void 0||a.setMotor!==void 0||a.vibration_mode!==void 0||console.warn("Received unknown data:",a));return}if(a=a.readings,!a.millis){console.warn("Received data without 'millis' field:",a);return}if(a.pressure===void 0||a.arousal===void 0||a.motor===void 0){console.warn("Received data missing expected fields:",a);return}for(a.pleasure=a.motor,a.localTime=Date.now(),f.push(a);f.length>0&&(a.millis-(f[0].millis??0)>g(w)*1e3||Date.now()-(f[0].localTime??0)>g(w)*1e3);)f.shift();m?.dispatchEvent(new CustomEvent("updated",{}))}catch(a){console.error("Error parsing WebSocket message:",a)}}function Fr(){C(L,!0),Se.disconnect(),C(le,!1),console.log("WebSocket connection established");let s=JSON.stringify({configList:null});g($).send(s),g($).send(JSON.stringify({streamReadings:null})),m?.dispatchEvent(new CustomEvent("ready",{})),setInterval(()=>{let a=D(f)[D(f).length-1].localTime??0;Date.now()-a>1e4&&(console.log("WebSocket data is stale...dropped connection?"),C(L,!1),g($).close(),C($,new WebSocket(g(i)),!0),cn(g($)),console.log("Reconnecting to ",g(i),g($)))},5e3)}function Ir(s){C(L,!1),console.error("WebSocket error observed:",s)}function Mt(s,a){if(g(L)){c[s].value=a;let E=JSON.stringify({configSet:{[s]:a}});g($).send(E),console.log(`Sent ${s} change:`,a)}else g(le)&&se!=null&&se.writeValue(new Uint8Array([2,...new TextEncoder().encode(s),58,...new TextEncoder().encode(a.toString())])).then(()=>{console.log(`Sent ${s} change via Bluetooth:`,a.toString())}).catch(E=>{console.error("Error sending setting change via Bluetooth:",E)})}function Ge(s,a){if(g(L)){let E=JSON.stringify({[s]:a});g($).send(E)}else if(g(le)){let E=s=="setMode"?u.indexOf(String(a)):o(D(f),"runMode"),y;if(s=="setMotor"){let S=s=="setMotor"?Number(a):o(D(f),"pleasure");y=new Uint8Array([1,E,0,0,Number(S)])}else y=new Uint8Array([1,E,s=="triggerArousal"?1:0,s=="resetDenial"?1:0]);console.log(`sending ${s} change via Bluetooth:`,y),se.writeValue(y).then(()=>{console.log(`Sent ${s} change via Bluetooth:`,a)}).catch(S=>{console.error("Error sending setting change via Bluetooth:",S)})}else{console.warn("Not connected via WebSocket or Bluetooth. Cannot send setting change.");return}console.log(`Sent ${s} change:`,a)}let Ct=new Map;const Lr=30;function Br(s,a){const E=Ct.get(s);E!==void 0&&clearTimeout(E);const y=setTimeout(()=>{Ge(s,a),Ct.delete(s)},Lr);Ct.set(s,y)}function cn(s){s.onopen=Fr,s.onerror=Ir,s.onmessage=Pr}const Ur=s=>{m=s,v=m.getContext("2d");function a(E,y){m.dispatchEvent(new CustomEvent(E,{detail:y}))}Hn(()=>{a("ready",void 0)})};Hn(()=>{setInterval(()=>{if(!D(g(L))&&!D(g(le))){console.log("Not connected");return}console.log("Current readings:",D(f)[D(f).length-1])},3e4)});function dn(){C(i,g(i).trim(),!0),g($)?.close(),C(L,!1),C($,new WebSocket(g(i)),!0),cn(g($)),console.log("Connecting to ",g(i),g($))}function $r(s){const a=s.target;se=null,Se=null,console.log(`Device ${a.name} is disconnected.`),C(le,!1)}var hn=ls(),st=It(hn);st.__click=[Ul,ke],st.__keyup=[$l,ke];var Wr=R(st),vn=R(Wr),_n=R(vn),At=R(_n);At.__keyup=[Wl,dn];var pn=N(At);pn.__click=[ql,dn];var qr=N(pn,2);{var jr=s=>{var a=jl();oe(s,a)},Vr=s=>{var a=Vl();oe(s,a)};Je(qr,s=>{g(L)?s(jr):s(Vr,!1)})}var gn=N(_n,2),mn=R(gn);mn.__click=()=>{const s=navigator.bluetooth;if(!s){console.error("Web bluetooth is not available on iOS devices or Firefox.");return}s.requestDevice({optionalServices:[26985,26986,26987],filters:[{namePrefix:"Libotoy"}]}).then(a=>{console.log("Connecting to device:",a),a.addEventListener("gattserverdisconnected",$r),Se=a,a.gatt.connect().then(E=>{console.log("Connected to GATT server:",E),E.getPrimaryService(26985).then(y=>{console.log("Got primary service:",y),y.getCharacteristic(26986).then(S=>{console.log("Got characteristic:",S),S.addEventListener("characteristicvaluechanged",M=>{const I=M.target.value,F=new Uint8Array(I.buffer);console.log("Received data:",F);let me={pressure:F[0]*16,arousal:F[1]*16,threshold:F[2]*16,motor:F[3],pleasure:F[3],cooldown:F[4],denied:F[5],runMode:u[F[6]]??"AUTOMATIC",pleasureMode:F[7],permit:F[8]*255+(F[9]??0),millis:Date.now(),localTime:Date.now()};for(f.push(me);f.length>0&&Date.now()-(f[0].localTime??0)>g(w)*1e3;)f.shift();m?.dispatchEvent(new CustomEvent("updated",{}))}),S.startNotifications().then(()=>{console.log("Notifications started for characteristic:",S.uuid),g($)?.close(),C(L,!1),C(le,!0)})}),y.getCharacteristic(26987).then(S=>{console.log("Got control characteristic:",S),se=S,console.log("Ready to send control commands via Bluetooth.",se)})}).catch(y=>{console.error("Error getting primary service:",y)})}).catch(E=>{console.error("Error connecting to GATT server:",E)})}).catch(a=>{console.error(a)})};var Hr=N(mn,2);{var Gr=s=>{var a=Hl();oe(s,a)},zr=s=>{var a=Gl();oe(s,a)};Je(Hr,s=>{g(le)?s(Gr):s(zr,!1)})}var Yr=N(gn,2);Yr.__click=[zl,He];var Pe=N(vn,2);Vn(Pe,s=>m=s,()=>m),Ol(Pe,s=>Ur?.(s));var yn=N(Pe,2),Ot=R(yn);Ot.__click=[Yl];var Jr=R(Ot),Nt=N(Ot,2);Nt.__click=[Jl,Ge,he];var Kr=R(Nt),Dt=N(Nt,2);Dt.__click=[Kl,Ge];var Xr=R(Dt),Rt=N(Dt,2);Rt.__click=[Xl,Ge];var Zr=R(Rt),wn=N(yn,2),bn=R(wn),Qr=N(R(bn),2);dt(Qr,17,()=>u,ct,(s,a,E)=>{var y=Ql(),S=R(y);K(S,"id",`runmode-${E}`),S.__change=[Zl,Ge,a,c,Mt,he,f];var M=N(S,2);K(M,"for",`runmode-${E}`);var I=R(M);Ye((F,me,at)=>{$n(S,g(a)),Wn(S,F),Un(M,1,me),ae(I,at)},[()=>D(f)[D(f).length-1].runMode==g(a),()=>Bn(D(f)[D(f).length-1].runMode==g(a)?"radioChosen":"radioChoice"),()=>g(a).substring(0,1).toUpperCase()+g(a).substring(1).toLowerCase()]),oe(s,y)});var ei=N(bn,2),ti=N(R(ei),2);dt(ti,17,()=>Object.entries(l),ct,(s,a)=>{var E=Qi(()=>pi(g(a),2));let y=()=>g(E)[0],S=()=>g(E)[1];var M=Sl(),I=It(M);{var F=me=>{var at=ts(),ze=R(at);ze.__change=[es,Mt,y];var Ft=N(ze,2),ai=R(Ft);Ye((ui,fi)=>{K(ze,"id",`vibemode-${y()??""}`),$n(ze,y()),Wn(ze,ui),K(Ft,"for",`vibemode-${y()??""}`),Un(Ft,1,fi),ae(ai,S())},[()=>c.vibration_mode.value===Number(y()),()=>Bn(c.vibration_mode.value===Number(y())?"radioChosen":"radioChoice")]),oe(me,at)};Je(I,me=>{(D(f)[D(f).length-1].runMode!=="ORGASM"||y()!=="3")&&me(F)})}oe(s,M)});var xn=N(wn,2);{var ni=s=>{var a=rs(),E=It(a),y=R(E),S=N(E,2);S.__input=[ns,Br,he],Ye(M=>{ae(y,`Pleasure: ${M??""} %`),K(S,"max",c.max_pleasure.value)},[()=>Math.round(o(D(f),"pleasure")/O*99)]),Ke(S,()=>g(he),M=>C(he,M)),oe(s,a)};Je(xn,s=>{D(f)[D(f).length-1].runMode==="MANUAL"&&s(ni)})}var En=N(xn,2);{var ri=s=>{n(s,()=>"auto_edging_duration_minutes")};Je(En,s=>{D(f)[D(f).length-1].runMode==="ORGASM"&&s(ri)})}var Sn=N(En,2);dt(Sn,17,()=>_,ct,(s,a)=>{n(s,()=>g(a))});var kn=N(Sn,2),ii=R(kn),Tn=N(kn,2);Tn.__change=[Gn,w,lt];var ot=N(st,2),li=R(ot),Mn=R(li);Mn.__click=[is,ke];var Cn=N(Mn,6),si=R(Cn),Pt=N(Cn,2);Pt.__change=[Gn,w,lt];var oi=N(Pt,2);dt(oi,17,()=>b,ct,(s,a)=>{n(s,()=>g(a))}),Vn(ot,s=>C(ke,s),()=>g(ke)),Ye((s,a,E,y)=>{ae(Jr,`Pressure: ${s??""} %`),ae(Kr,`Pleasure: ${a??""}`),ae(Xr,`Arousal: ${E??""} %`),K(Rt,"title",`Click to reset ${c.vibration_mode.value!==3?"denied ":""}orgasms count`),ae(Zr,`${c.vibration_mode.value===3?"Orgasms":"Denied"}: ${y??""}`),ae(ii,`Time Window of Chart: ${g(w)??""} seconds`),ot.open=g(He),ae(si,`Maximum Denied Orgasms on Chart: ${g(ee)??""} denied orgasms`)},[()=>Math.round(o(D(f),"pressure")/O*100),()=>Math.floor(o(D(f),"pleasure")/O*100)?Math.round(o(D(f),"pleasure")/O*99).toString()+"%":"DENIED!",()=>Math.floor(o(D(f),"arousal")/O*100),()=>o(D(f),"denied")]),Ke(At,()=>g(i),s=>C(i,s)),ft("updated",Pe,Dr),ft("ready",Pe,an),ft("resize",Pe,an),Ke(Tn,()=>g(w),s=>C(w,s)),ft("close",ot,()=>C(He,!1)),Ke(Pt,()=>g(ee),s=>C(ee,s)),oe(e,hn),Qn()}xl(["change","click","keyup","input"]);"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js");kl(ss,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:top center;min-height:100vh}h2{margin:0}#app{width:100vw}.radioBoxes{margin-top:1em;display:flex;justify-content:space-evenly}.radioBox{border:1px solid gray;padding:.25em;display:flex;align-items:center;text-wrap:nowrap;width:auto}.radioBoxItem{display:flex;align-items:center;text-wrap:nowrap}.radioBoxItem input{margin:.25em .25em .25em .75em;cursor:pointer}.radioBoxItem label{cursor:pointer}.radioChosen{font-weight:700;color:red}.statBoxButton{cursor:pointer;border:1px solid gray;padding:.25em;display:inline-block;white-space:nowrap;border-radius:4px}.mainContainer{width:100%;max-width:1200px;margin:auto;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;box-sizing:border-box;padding-top:0;border:1px solid #333}.statBoxes{margin-top:.1em;display:flex;justify-content:space-evenly;width:100%}#auto_edging_duration_minutes{accent-color:red;background:linear-gradient(to right,red 0% 100%)}@media screen and (max-width:800px){.radioBoxes{flex-direction:column;align-items:center}.radioBox{display:flex;justify-content:space-around;margin-bottom:.3em;width:75%;font-size:.5em}.statBoxButton{font-size:.5em}}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
