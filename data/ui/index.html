<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EOMUI</title>
    <link rel="icon" href="favicon.svg">
    <link rel="apple-touch-icon" href="EOM_logo_192.png" sizes="192x192">
    <link rel="mask-icon" href="favicon.svg" color="#3a3a3a">
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#3a3a3a">
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const wr=!1;var Ot=Array.isArray,co=Array.prototype.indexOf,mn=Array.from,dn=Object.defineProperty,ct=Object.getOwnPropertyDescriptor,fo=Object.getOwnPropertyDescriptors,br=Object.prototype,vo=Array.prototype,wn=Object.getPrototypeOf,or=Object.isExtensible;const ho=()=>{};function _o(e){for(var t=0;t<e.length;t++)e[t]()}function yr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function go(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const Y=2,bn=4,yn=8,Ie=16,ye=32,Be=64,xn=128,le=256,Tt=512,V=1024,ne=2048,Te=4096,ve=8192,Ze=16384,kn=32768,Dt=65536,lr=1<<17,po=1<<18,Xe=1<<19,mo=1<<20,vn=1<<21,En=1<<22,Oe=1<<23,Mt=Symbol("$state"),wo=Symbol(""),qe=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function bo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function yo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function xo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ko(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Eo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function So(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Mo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Co(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ao(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function To(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Lo=1,No=2,Fo=16,Oo=1,Do=2,U=Symbol(),Ro="http://www.w3.org/1999/xhtml";function Po(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Io=!1;function xr(e){return e===this.v}function Bo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function kr(e){return!Bo(e,this.v)}let Uo=!1;const $o=[];function x(e,t=!1,n=!1){return Ct(e,new Map,"",$o,null,n)}function Ct(e,t,n,r,i=null,o=!1){if(typeof e=="object"&&e!==null){var c=t.get(e);if(c!==void 0)return c;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Ot(e)){var d=Array(e.length);t.set(e,d),i!==null&&t.set(i,d);for(var l=0;l<e.length;l+=1){var f=e[l];l in e&&(d[l]=Ct(f,t,n,r,null,o))}return d}if(wn(e)===br){d={},t.set(e,d),i!==null&&t.set(i,d);for(var p in e)d[p]=Ct(e[p],t,n,r,null,o);return d}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return Ct(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let re=null;function Ge(e){re=e}function Er(e,t=!1,n){re={p:re,c:null,e:null,s:e,x:null,l:null}}function Sr(e){var t=re,n=t.e;if(n!==null){t.e=null;for(var r of n)zr(r)}return re=t.p,{}}function Mr(){return!0}let Fe=[];function Cr(){var e=Fe;Fe=[],_o(e)}function Ye(e){if(Fe.length===0&&!ft){var t=Fe;queueMicrotask(()=>{t===Fe&&Cr()})}Fe.push(e)}function zo(){for(;Fe.length>0;)Cr()}const Wo=new WeakMap;function Ar(e){var t=F;if(t===null)return L.f|=Oe,e;if((t.f&kn)===0){if((t.f&xn)===0)throw!t.parent&&e instanceof Error&&Tr(e),e;t.b.error(e)}else Je(e,t)}function Je(e,t){for(;t!==null;){if((t.f&xn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Tr(e),e}function Tr(e){const t=Wo.get(e);t&&(dn(e,"message",{value:t.message}),dn(e,"stack",{value:t.stack}))}const kt=new Set;let O=null,At=null,fe=null,hn=new Set,_e=[],Rt=null,_n=!1,ft=!1;class ge{current=new Map;#r=new Map;#t=new Set;#f=0;#o=null;#s=[];#i=[];#n=[];#e=[];#l=[];skipped_effects=new Set;process(t){_e=[],At=null,this.apply();for(const o of t)this.#a(o);if(this.#f===0){var n=fe;this.#c();var r=this.#s,i=this.#i;this.#s=[],this.#i=[],this.#n=[],At=this,O=null,fe=n,sr(r),sr(i),At=null,this.#o?.resolve()}else this.#u(this.#s),this.#u(this.#i),this.#u(this.#n);fe=null}#a(t){t.f^=V;for(var n=t.first;n!==null;){var r=n.f,i=(r&(ye|Be))!==0,o=i&&(r&V)!==0,c=o||(r&ve)!==0||this.skipped_effects.has(n);if(!c&&n.fn!==null){i?n.f^=V:(r&bn)!==0?this.#i.push(n):Bt(n)&&((n.f&Ie)!==0&&this.#n.push(n),Nt(n));var d=n.first;if(d!==null){n=d;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}}#u(t){for(const n of t)((n.f&ne)!==0?this.#e:this.#l).push(n),G(n,V);t.length=0}capture(t,n){this.#r.has(t)||this.#r.set(t,n),this.current.set(t,t.v),fe?.set(t,t.v)}activate(){O=this}deactivate(){O=null,fe=null}flush(){if(_e.length>0){if(this.activate(),Lr(),O!==null&&O!==this)return}else this.#f===0&&this.#c();this.deactivate();for(const t of hn)if(hn.delete(t),t(),O!==null)break}#c(){for(const t of this.#t)t();if(this.#t.clear(),kt.size>1){this.#r.clear();let t=!0;for(const n of kt){if(n===this){t=!1;continue}const r=[];for(const[o,c]of this.current){if(n.current.has(o))if(t&&c!==n.current.get(o))n.current.set(o,c);else continue;r.push(o)}if(r.length===0)continue;const i=[...n.current.keys()].filter(o=>!this.current.has(o));if(i.length>0){for(const o of r)Nr(o,i);if(_e.length>0){O=n,n.apply();for(const o of _e)n.#a(o);_e=[],n.deactivate()}}}O=null}kt.delete(this)}increment(){this.#f+=1}decrement(){this.#f-=1;for(const t of this.#e)G(t,ne),Re(t);for(const t of this.#l)G(t,Te),Re(t);this.flush()}add_callback(t){this.#t.add(t)}settled(){return(this.#o??=yr()).promise}static ensure(){if(O===null){const t=O=new ge;kt.add(O),ft||ge.enqueue(()=>{O===t&&t.flush()})}return O}static enqueue(t){Ye(t)}apply(){}}function jo(e){var t=ft;ft=!0;try{for(var n;;){if(zo(),_e.length===0&&(O?.flush(),_e.length===0))return Rt=null,n;Lr()}}finally{ft=t}}function Lr(){var e=Ve;_n=!0;try{var t=0;for(cr(!0);_e.length>0;){var n=ge.ensure();if(t++>1e3){var r,i;qo()}n.process(_e),Ae.clear()}}finally{_n=!1,cr(e),Rt=null}}function qo(){try{So()}catch(e){Je(e,Rt)}}let Ne=null;function sr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ze|ve))===0&&Bt(r)&&(Ne=[],Nt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Hr(r):r.fn=null),Ne?.length>0)){Ae.clear();for(const i of Ne)Nt(i);Ne=[]}}Ne=null}}function Nr(e,t){if(e.reactions!==null)for(const n of e.reactions){const r=n.f;(r&Y)!==0?Nr(n,t):(r&(En|Ie))!==0&&Fr(n,t)&&(G(n,ne),Re(n))}}function Fr(e,t){if(e.deps!==null){for(const n of e.deps)if(t.includes(n)||(n.f&Y)!==0&&Fr(n,t))return!0}return!1}function Re(e){for(var t=Rt=e;t.parent!==null;){t=t.parent;var n=t.f;if(_n&&t===F&&(n&Ie)!==0)return;if((n&(Be|ye))!==0){if((n&V)===0)return;t.f^=V}}_e.push(t)}function Ho(e){let t=0,n=Pe(0),r;return()=>{ul()&&(h(n),Cn(()=>(t===0&&(r=gt(()=>e(()=>dt(n)))),t+=1,()=>{Ye(()=>{t-=1,t===0&&(r?.(),r=void 0,dt(n))})})))}}var Vo=Dt|Xe|xn;function Go(e,t,n){new Yo(e,t,n)}class Yo{parent;#r=!1;#t;#f=null;#o;#s;#i;#n=null;#e=null;#l=null;#a=null;#u=0;#c=0;#v=!1;#d=null;#p=()=>{this.#d&&vt(this.#d,this.#u)};#m=Ho(()=>(this.#d=Pe(this.#u),()=>{this.#d=null}));constructor(t,n,r){this.#t=t,this.#o=n,this.#s=r,this.parent=F.b,this.#r=!!this.#o.pending,this.#i=An(()=>{F.b=this;{try{this.#n=ce(()=>r(this.#t))}catch(i){this.error(i)}this.#c>0?this.#_():this.#r=!1}},Vo)}#w(){try{this.#n=ce(()=>this.#s(this.#t))}catch(t){this.error(t)}this.#r=!1}#b(){const t=this.#o.pending;t&&(this.#e=ce(()=>t(this.#t)),ge.enqueue(()=>{this.#n=this.#h(()=>(ge.ensure(),ce(()=>this.#s(this.#t)))),this.#c>0?this.#_():(He(this.#e,()=>{this.#e=null}),this.#r=!1)}))}is_pending(){return this.#r||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#o.pending}#h(t){var n=F,r=L,i=re;pe(this.#i),J(this.#i),Ge(this.#i.ctx);try{return t()}catch(o){return Ar(o),null}finally{pe(n),J(r),Ge(i)}}#_(){const t=this.#o.pending;this.#n!==null&&(this.#a=document.createDocumentFragment(),Jo(this.#n,this.#a)),this.#e===null&&(this.#e=ce(()=>t(this.#t)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#c+=t,this.#c===0&&(this.#r=!1,this.#e&&He(this.#e,()=>{this.#e=null}),this.#a&&(this.#t.before(this.#a),this.#a=null),Ye(()=>{ge.ensure().flush()}))}update_pending_count(t){this.#g(t),this.#u+=t,hn.add(this.#p)}get_effect_pending(){return this.#m(),h(this.#d)}error(t){var n=this.#o.onerror;let r=this.#o.failed;if(this.#v||!n&&!r)throw t;this.#n&&(se(this.#n),this.#n=null),this.#e&&(se(this.#e),this.#e=null),this.#l&&(se(this.#l),this.#l=null);var i=!1,o=!1;const c=()=>{if(i){Po();return}i=!0,o&&To(),ge.ensure(),this.#u=0,this.#l!==null&&He(this.#l,()=>{this.#l=null}),this.#r=this.has_pending_snippet(),this.#n=this.#h(()=>(this.#v=!1,ce(()=>this.#s(this.#t)))),this.#c>0?this.#_():this.#r=!1};var d=L;try{J(null),o=!0,n?.(t,c),o=!1}catch(l){Je(l,this.#i&&this.#i.parent)}finally{J(d)}r&&Ye(()=>{this.#l=this.#h(()=>{this.#v=!0;try{return ce(()=>{r(this.#t,()=>t,()=>c)})}catch(l){return Je(l,this.#i.parent),null}finally{this.#v=!1}})})}}function Jo(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:_t(n);t.append(n),n=i}}function Ko(e,t,n){const r=Sn;if(t.length===0){n(e.map(r));return}var i=O,o=F,c=Zo();Promise.all(t.map(d=>Xo(d))).then(d=>{c();try{n([...e.map(r),...d])}catch(l){(o.f&Ze)===0&&Je(l,o)}i?.deactivate(),gn()}).catch(d=>{Je(d,o)})}function Zo(){var e=F,t=L,n=re,r=O;return function(){pe(e),J(t),Ge(n),r?.activate()}}function gn(){pe(null),J(null),Ge(null)}function Sn(e){var t=Y|ne,n=L!==null&&(L.f&Y)!==0?L:null;return F===null||n!==null&&(n.f&le)!==0?t|=le:F.f|=Xe,{ctx:re,deps:null,effects:null,equals:xr,f:t,fn:e,reactions:null,rv:0,v:U,wv:0,parent:n??F,ac:null}}function Xo(e,t){let n=F;n===null&&yo();var r=n.b,i=void 0,o=Pe(U),c=!L,d=new Map;return dl(()=>{var l=yr();i=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(gn)}catch(a){l.reject(a),gn()}var f=O,p=r.is_pending();c&&(r.update_pending_count(1),p||(f.increment(),d.get(f)?.reject(qe),d.delete(f),d.set(f,l)));const k=(a,m=void 0)=>{if(p||f.activate(),m)m!==qe&&(o.f|=Oe,vt(o,m));else{(o.f&Oe)!==0&&(o.f^=Oe),vt(o,a);for(const[g,v]of d){if(d.delete(g),g===f)break;v.reject(qe)}}c&&(r.update_pending_count(-1),p||f.decrement())};l.promise.then(k,a=>k(null,a||"unknown"))}),$r(()=>{for(const l of d.values())l.reject(qe)}),new Promise(l=>{function f(p){function k(){p===i?l(o):f(i)}p.then(k,k)}f(i)})}function Qo(e){const t=Sn(e);return Yr(t),t}function el(e){const t=Sn(e);return t.equals=kr,t}function Or(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)se(t[n])}}function tl(e){for(var t=e.parent;t!==null;){if((t.f&Y)===0)return t;t=t.parent}return null}function Mn(e){var t,n=F;pe(tl(e));try{Or(e),t=Xr(e)}finally{pe(n)}return t}function Dr(e){var t=Mn(e);if(e.equals(t)||(e.v=t,e.wv=Kr()),!Qe)if(fe!==null)fe.set(e,e.v);else{var n=(Ce||(e.f&le)!==0)&&e.deps!==null?Te:V;G(e,n)}}const Ae=new Map;function Pe(e,t){var n={f:0,v:e,reactions:null,equals:xr,rv:0,wv:0};return n}function B(e,t){const n=Pe(e);return Yr(n),n}function nl(e,t=!1,n=!0){const r=Pe(e);return t||(r.equals=kr),r}function N(e,t,n=!1){L!==null&&(!de||(L.f&lr)!==0)&&Mr()&&(L.f&(Y|Ie|En|lr))!==0&&!be?.includes(e)&&Ao();let r=n?Me(t):t;return vt(e,r)}function vt(e,t){if(!e.equals(t)){var n=e.v;Qe?Ae.set(e,t):Ae.set(e,n),e.v=t;var r=ge.ensure();r.capture(e,n),(e.f&Y)!==0&&((e.f&ne)!==0&&Mn(e),G(e,(e.f&le)===0?V:Te)),e.wv=Kr(),Rr(e,ne),F!==null&&(F.f&V)!==0&&(F.f&(ye|Be))===0&&(oe===null?_l([e]):oe.push(e))}return t}function dt(e){N(e,e.v+1)}function Rr(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var o=n[i],c=o.f,d=(c&ne)===0;d&&G(o,t),(c&Y)!==0?Rr(o,Te):d&&((c&Ie)!==0&&Ne!==null&&Ne.push(o),Re(o))}}function Me(e){if(typeof e!="object"||e===null||Mt in e)return e;const t=wn(e);if(t!==br&&t!==vo)return e;var n=new Map,r=Ot(e),i=B(0),o=De,c=d=>{if(De===o)return d();var l=L,f=De;J(null),dr(o);var p=d();return J(l),dr(f),p};return r&&n.set("length",B(e.length)),new Proxy(e,{defineProperty(d,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Mo();var p=n.get(l);return p===void 0?p=c(()=>{var k=B(f.value);return n.set(l,k),k}):N(p,f.value,!0),!0},deleteProperty(d,l){var f=n.get(l);if(f===void 0){if(l in d){const p=c(()=>B(U));n.set(l,p),dt(i)}}else N(f,U),dt(i);return!0},get(d,l,f){if(l===Mt)return e;var p=n.get(l),k=l in d;if(p===void 0&&(!k||ct(d,l)?.writable)&&(p=c(()=>{var m=Me(k?d[l]:U),g=B(m);return g}),n.set(l,p)),p!==void 0){var a=h(p);return a===U?void 0:a}return Reflect.get(d,l,f)},getOwnPropertyDescriptor(d,l){var f=Reflect.getOwnPropertyDescriptor(d,l);if(f&&"value"in f){var p=n.get(l);p&&(f.value=h(p))}else if(f===void 0){var k=n.get(l),a=k?.v;if(k!==void 0&&a!==U)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return f},has(d,l){if(l===Mt)return!0;var f=n.get(l),p=f!==void 0&&f.v!==U||Reflect.has(d,l);if(f!==void 0||F!==null&&(!p||ct(d,l)?.writable)){f===void 0&&(f=c(()=>{var a=p?Me(d[l]):U,m=B(a);return m}),n.set(l,f));var k=h(f);if(k===U)return!1}return p},set(d,l,f,p){var k=n.get(l),a=l in d;if(r&&l==="length")for(var m=f;m<k.v;m+=1){var g=n.get(m+"");g!==void 0?N(g,U):m in d&&(g=c(()=>B(U)),n.set(m+"",g))}if(k===void 0)(!a||ct(d,l)?.writable)&&(k=c(()=>B(void 0)),N(k,Me(f)),n.set(l,k));else{a=k.v!==U;var v=c(()=>Me(f));N(k,v)}var _=Reflect.getOwnPropertyDescriptor(d,l);if(_?.set&&_.set.call(p,f),!a){if(r&&typeof l=="string"){var D=n.get("length"),S=Number(l);Number.isInteger(S)&&S>=D.v&&N(D,S+1)}dt(i)}return!0},ownKeys(d){h(i);var l=Reflect.ownKeys(d).filter(k=>{var a=n.get(k);return a===void 0||a.v!==U});for(var[f,p]of n)p.v!==U&&!(f in d)&&l.push(f);return l},setPrototypeOf(){Co()}})}var ar,Pr,Ir,Br;function rl(){if(ar===void 0){ar=window,Pr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Ir=ct(t,"firstChild").get,Br=ct(t,"nextSibling").get,or(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),or(n)&&(n.__t=void 0)}}function Pt(e=""){return document.createTextNode(e)}function Ke(e){return Ir.call(e)}function _t(e){return Br.call(e)}function M(e,t){return Ke(e)}function ot(e,t=!1){{var n=Ke(e);return n instanceof Comment&&n.data===""?_t(n):n}}function C(e,t=1,n=!1){let r=e;for(;t--;)r=_t(r);return r}function il(e){e.textContent=""}function Ur(){return!1}let ur=!1;function ol(){ur||(ur=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function It(e){var t=L,n=F;J(null),pe(null);try{return e()}finally{J(t),pe(n)}}function ll(e,t,n,r=n){e.addEventListener(t,()=>It(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),ol()}function sl(e){F===null&&L===null&&Eo(),L!==null&&(L.f&le)!==0&&F===null&&ko(),Qe&&xo()}function al(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function xe(e,t,n,r=!0){var i=F;i!==null&&(i.f&ve)!==0&&(e|=ve);var o={ctx:re,deps:null,nodes_start:null,nodes_end:null,f:e|ne,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Nt(o),o.f|=kn}catch(l){throw se(o),l}else t!==null&&Re(o);if(r){var c=o;if(n&&c.deps===null&&c.teardown===null&&c.nodes_start===null&&c.first===c.last&&(c.f&Xe)===0&&(c=c.first),c!==null&&(c.parent=i,i!==null&&al(c,i),L!==null&&(L.f&Y)!==0&&(e&Be)===0)){var d=L;(d.effects??=[]).push(c)}}return o}function ul(){return L!==null&&!de}function $r(e){const t=xe(yn,null,!1);return G(t,V),t.teardown=e,t}function cl(e){sl();var t=F.f,n=!L&&(t&ye)!==0&&(t&kn)===0;if(n){var r=re;(r.e??=[]).push(e)}else return zr(e)}function zr(e){return xe(bn|mo,e,!1)}function fl(e){ge.ensure();const t=xe(Be|Xe,e,!0);return(n={})=>new Promise(r=>{n.outro?He(t,()=>{se(t),r(void 0)}):(se(t),r(void 0))})}function Wr(e){return xe(bn,e,!1)}function dl(e){return xe(En|Xe,e,!0)}function Cn(e,t=0){return xe(yn|t,e,!0)}function lt(e,t=[],n=[]){Ko(t,n,r=>{xe(yn,()=>e(...r.map(h)),!0)})}function An(e,t=0){var n=xe(Ie|t,e,!0);return n}function ce(e,t=!0){return xe(ye|Xe,e,!0,t)}function jr(e){var t=e.teardown;if(t!==null){const n=Qe,r=L;fr(!0),J(null);try{t.call(null)}finally{fr(n),J(r)}}}function qr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&It(()=>{i.abort(qe)});var r=n.next;(n.f&Be)!==0?n.parent=null:se(n,t),n=r}}function vl(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ye)===0&&se(t),t=n}}function se(e,t=!0){var n=!1;(t||(e.f&po)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(hl(e.nodes_start,e.nodes_end),n=!0),qr(e,t&&!n),Lt(e,0),G(e,Ze);var r=e.transitions;if(r!==null)for(const o of r)o.stop();jr(e);var i=e.parent;i!==null&&i.first!==null&&Hr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function hl(e,t){for(;e!==null;){var n=e===t?null:_t(e);e.remove(),e=n}}function Hr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function He(e,t){var n=[];Tn(e,n,!0),Vr(n,()=>{se(e),t&&t()})}function Vr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Tn(e,t,n){if((e.f&ve)===0){if(e.f^=ve,e.transitions!==null)for(const c of e.transitions)(c.is_global||n)&&t.push(c);for(var r=e.first;r!==null;){var i=r.next,o=(r.f&Dt)!==0||(r.f&ye)!==0;Tn(r,t,o?n:!1),r=i}}}function Ln(e){Gr(e,!0)}function Gr(e,t){if((e.f&ve)!==0){e.f^=ve,(e.f&V)===0&&(G(e,ne),Re(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Dt)!==0||(n.f&ye)!==0;Gr(n,i?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Ve=!1;function cr(e){Ve=e}let Qe=!1;function fr(e){Qe=e}let L=null,de=!1;function J(e){L=e}let F=null;function pe(e){F=e}let be=null;function Yr(e){L!==null&&(be===null?be=[e]:be.push(e))}let H=null,te=0,oe=null;function _l(e){oe=e}let Jr=1,ht=0,De=ht;function dr(e){De=e}let Ce=!1;function Kr(){return++Jr}function Bt(e){var t=e.f;if((t&ne)!==0)return!0;if((t&Te)!==0){var n=e.deps,r=(t&le)!==0;if(n!==null){var i,o,c=(t&Tt)!==0,d=r&&F!==null&&!Ce,l=n.length;if((c||d)&&(F===null||(F.f&Ze)===0)){var f=e,p=f.parent;for(i=0;i<l;i++)o=n[i],(c||!o?.reactions?.includes(f))&&(o.reactions??=[]).push(f);c&&(f.f^=Tt),d&&p!==null&&(p.f&le)===0&&(f.f^=le)}for(i=0;i<l;i++)if(o=n[i],Bt(o)&&Dr(o),o.wv>e.wv)return!0}(!r||F!==null&&!Ce)&&G(e,V)}return!1}function Zr(e,t,n=!0){var r=e.reactions;if(r!==null&&!be?.includes(e))for(var i=0;i<r.length;i++){var o=r[i];(o.f&Y)!==0?Zr(o,t,!1):t===o&&(n?G(o,ne):(o.f&V)!==0&&G(o,Te),Re(o))}}function Xr(e){var t=H,n=te,r=oe,i=L,o=Ce,c=be,d=re,l=de,f=De,p=e.f;H=null,te=0,oe=null,Ce=(p&le)!==0&&(de||!Ve||L===null),L=(p&(ye|Be))===0?e:null,be=null,Ge(e.ctx),de=!1,De=++ht,e.ac!==null&&(It(()=>{e.ac.abort(qe)}),e.ac=null);try{e.f|=vn;var k=e.fn,a=k(),m=e.deps;if(H!==null){var g;if(Lt(e,te),m!==null&&te>0)for(m.length=te+H.length,g=0;g<H.length;g++)m[te+g]=H[g];else e.deps=m=H;if(!Ce||(p&Y)!==0&&e.reactions!==null)for(g=te;g<m.length;g++)(m[g].reactions??=[]).push(e)}else m!==null&&te<m.length&&(Lt(e,te),m.length=te);if(Mr()&&oe!==null&&!de&&m!==null&&(e.f&(Y|Te|ne))===0)for(g=0;g<oe.length;g++)Zr(oe[g],e);return i!==null&&i!==e&&(ht++,oe!==null&&(r===null?r=oe:r.push(...oe))),(e.f&Oe)!==0&&(e.f^=Oe),a}catch(v){return Ar(v)}finally{e.f^=vn,H=t,te=n,oe=r,L=i,Ce=o,be=c,Ge(d),de=l,De=f}}function gl(e,t){let n=t.reactions;if(n!==null){var r=co.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&Y)!==0&&(H===null||!H.includes(t))&&(G(t,Te),(t.f&(le|Tt))===0&&(t.f^=Tt),Or(t),Lt(t,0))}function Lt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)gl(e,n[r])}function Nt(e){var t=e.f;if((t&Ze)===0){G(e,V);var n=F,r=Ve;F=e,Ve=!0;try{(t&Ie)!==0?vl(e):qr(e),jr(e);var i=Xr(e);e.teardown=typeof i=="function"?i:null,e.wv=Jr;var o;wr&&Uo&&(e.f&ne)!==0&&e.deps}finally{Ve=r,F=n}}}async function pl(){await Promise.resolve(),jo()}function h(e){var t=e.f,n=(t&Y)!==0;if(L!==null&&!de){var r=F!==null&&(F.f&Ze)!==0;if(!r&&!be?.includes(e)){var i=L.deps;if((L.f&vn)!==0)e.rv<ht&&(e.rv=ht,H===null&&i!==null&&i[te]===e?te++:H===null?H=[e]:(!Ce||!H.includes(e))&&H.push(e));else{(L.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[L]:o.includes(L)||o.push(L)}}}else if(n&&e.deps===null&&e.effects===null){var c=e,d=c.parent;d!==null&&(d.f&le)===0&&(c.f^=le)}if(Qe){if(Ae.has(e))return Ae.get(e);if(n){c=e;var l=c.v;return((c.f&V)===0&&c.reactions!==null||Qr(c))&&(l=Mn(c)),Ae.set(c,l),l}}else if(n){if(c=e,fe?.has(c))return fe.get(c);Bt(c)&&Dr(c)}if(fe?.has(e))return fe.get(e);if((e.f&Oe)!==0)throw e.v;return e.v}function Qr(e){if(e.v===U)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ae.has(t)||(t.f&Y)!==0&&Qr(t))return!0;return!1}function gt(e){var t=de;try{return de=!0,e()}finally{de=t}}const ml=-7169;function G(e,t){e.f=e.f&ml|t}const wl=["touchstart","touchmove"];function bl(e){return wl.includes(e)}const ei=new Set,pn=new Set;function yl(e,t,n,r={}){function i(o){if(r.capture||ut.call(t,o),!o.cancelBubble)return It(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ye(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function st(e,t,n,r,i){var o={capture:r,passive:i},c=yl(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&$r(()=>{t.removeEventListener(e,c,o)})}function xl(e){for(var t=0;t<e.length;t++)ei.add(e[t]);for(var n of pn)n(e)}let vr=null;function ut(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],o=i[0]||e.target;vr=e;var c=0,d=vr===e&&e.__root;if(d){var l=i.indexOf(d);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;l<=f&&(c=l)}if(o=i[c]||e.target,o!==t){dn(e,"currentTarget",{configurable:!0,get(){return o||n}});var p=L,k=F;J(null),pe(null);try{for(var a,m=[];o!==null;){var g=o.assignedSlot||o.parentNode||o.host||null;try{var v=o["__"+r];if(v!=null&&(!o.disabled||e.target===o))if(Ot(v)){var[_,...D]=v;_.apply(o,[e,...D])}else v.call(o,e)}catch(S){a?m.push(S):a=S}if(e.cancelBubble||g===t||g===null)break;o=g}if(a){for(let S of m)queueMicrotask(()=>{throw S});throw a}}finally{e.__root=t,delete e.currentTarget,J(p),pe(k)}}}function ti(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3C!---->"),t.content}function Ft(e,t){var n=F;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function et(e,t){var n=(t&Oo)!==0,r=(t&Do)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=ti(o?e:"<!>"+e),n||(i=Ke(i)));var c=r||Pr?document.importNode(i,!0):i.cloneNode(!0);if(n){var d=Ke(c),l=c.lastChild;Ft(d,l)}else Ft(c,c);return c}}function kl(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var c=ti(i),d=Ke(c);o=Ke(d)}var l=o.cloneNode(!0);return Ft(l,l),l}}function Nn(e,t){return kl(e,t,"svg")}function hr(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Pt();return e.append(t,n),Ft(t,n),e}function ue(e,t){e!==null&&e.before(t)}function X(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function El(e,t){return Sl(e,t)}const je=new Map;function Sl(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:c=!0}){rl();var d=new Set,l=k=>{for(var a=0;a<k.length;a++){var m=k[a];if(!d.has(m)){d.add(m);var g=bl(m);t.addEventListener(m,ut,{passive:g});var v=je.get(m);v===void 0?(document.addEventListener(m,ut,{passive:g}),je.set(m,1)):je.set(m,v+1)}}};l(mn(ei)),pn.add(l);var f=void 0,p=fl(()=>{var k=n??t.appendChild(Pt());return Go(k,{pending:()=>{}},a=>{if(o){Er({});var m=re;m.c=o}i&&(r.$$events=i),f=e(a,r)||{},o&&Sr()}),()=>{for(var a of d){t.removeEventListener(a,ut);var m=je.get(a);--m===0?(document.removeEventListener(a,ut),je.delete(a)):je.set(a,m)}pn.delete(l),k!==n&&k.parentNode?.removeChild(k)}});return Ml.set(f,p),f}let Ml=new WeakMap;function at(e,t,n=!1){var r=e,i=null,o=null,c=U,d=n?Dt:0,l=!1;const f=(m,g=!0)=>{l=!0,a(g,m)};var p=null;function k(){p!==null&&(p.lastChild.remove(),r.before(p),p=null);var m=c?i:o,g=c?o:i;m&&Ln(m),g&&He(g,()=>{c?o=null:i=null})}const a=(m,g)=>{if(c!==(c=m)){var v=Ur(),_=r;if(v&&(p=document.createDocumentFragment(),p.append(_=Pt())),c?i??=g&&ce(()=>g(_)):o??=g&&ce(()=>g(_)),v){var D=O,S=c?i:o,E=c?o:i;S&&D.skipped_effects.delete(S),E&&D.skipped_effects.add(E),D.add_callback(k)}else k()}};An(()=>{l=!1,t(f),l||a(null,null)},d)}function Et(e,t){return t}function Cl(e,t,n){for(var r=e.items,i=[],o=t.length,c=0;c<o;c++)Tn(t[c].e,i,!0);var d=o>0&&i.length===0&&n!==null;if(d){var l=n.parentNode;il(l),l.append(n),r.clear(),he(e,t[0].prev,t[o-1].next)}Vr(i,()=>{for(var f=0;f<o;f++){var p=t[f];d||(r.delete(p.k),he(e,p.prev,p.next)),se(p.e,!d)}})}function St(e,t,n,r,i,o=null){var c=e,d={flags:t,items:new Map,first:null},l=null,f=!1,p=new Map,k=el(()=>{var v=n();return Ot(v)?v:v==null?[]:mn(v)}),a,m;function g(){Al(m,a,d,p,c,i,t,r,n),o!==null&&(a.length===0?l?Ln(l):l=ce(()=>o(c)):l!==null&&He(l,()=>{l=null}))}An(()=>{m??=F,a=h(k);var v=a.length;if(!(f&&v===0)){f=v===0;var _,D,S,E;if(Ur()){var $=new Set,ae=O;for(D=0;D<v;D+=1){S=a[D],E=r(S,D);var z=d.items.get(E)??p.get(E);z?ni(z,S,D):(_=ri(null,d,null,null,S,E,D,i,t,n,!0),p.set(E,_)),$.add(E)}for(const[Ue,me]of d.items)$.has(Ue)||ae.skipped_effects.add(me.e);ae.add_callback(g)}else g();h(k)}})}function Al(e,t,n,r,i,o,c,d,l){var f=t.length,p=n.items,k=n.first,a=k,m,g=null,v=[],_=[],D,S,E,$;for($=0;$<f;$+=1){if(D=t[$],S=d(D,$),E=p.get(S),E===void 0){var ae=r.get(S);if(ae!==void 0){r.delete(S),p.set(S,ae);var z=g?g.next:a;he(n,g,ae),he(n,ae,z),ln(ae,z,i),g=ae}else{var Ue=a?a.e.nodes_start:i;g=ri(Ue,n,g,g===null?n.first:g.next,D,S,$,o,c,l)}p.set(S,g),v=[],_=[],a=g.next;continue}if(ni(E,D,$),(E.e.f&ve)!==0&&Ln(E.e),E!==a){if(m!==void 0&&m.has(E)){if(v.length<_.length){var me=_[0],R;g=me.prev;var W=v[0],ie=v[v.length-1];for(R=0;R<v.length;R+=1)ln(v[R],me,i);for(R=0;R<_.length;R+=1)m.delete(_[R]);he(n,W.prev,ie.next),he(n,g,W),he(n,ie,me),a=me,g=ie,$-=1,v=[],_=[]}else m.delete(E),ln(E,a,i),he(n,E.prev,E.next),he(n,E,g===null?n.first:g.next),he(n,g,E),g=E;continue}for(v=[],_=[];a!==null&&a.k!==S;)(a.e.f&ve)===0&&(m??=new Set).add(a),_.push(a),a=a.next;if(a===null)continue;E=a}v.push(E),g=E,a=E.next}if(a!==null||m!==void 0){for(var we=m===void 0?[]:mn(m);a!==null;)(a.e.f&ve)===0&&we.push(a),a=a.next;var q=we.length;if(q>0){var tt=null;Cl(n,we,tt)}}e.first=n.first&&n.first.e,e.last=g&&g.e;for(var nt of r.values())se(nt.e);r.clear()}function ni(e,t,n,r){vt(e.v,t),e.i=n}function ri(e,t,n,r,i,o,c,d,l,f,p){var k=(l&Lo)!==0,a=(l&Fo)===0,m=k?a?nl(i,!1,!1):Pe(i):i,g=(l&No)===0?c:Pe(c),v={i:g,v:m,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=Pt())}return v.e=ce(()=>d(e,m,g,f),Io),v.e.prev=n&&n.e,v.e.next=r&&r.e,n===null?p||(t.first=v):(n.next=v,n.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function ln(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var c=_t(o);i.before(o),o=c}}function he(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Tl(e,t,n){Wr(()=>{var r=gt(()=>t(e,n?.())||{});if(r?.destroy)return()=>r.destroy()})}function ii(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ii(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ll(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ii(e))&&(r&&(r+=" "),r+=t);return r}function Q(e){return typeof e=="object"?Ll(e):e??""}function Nl(e,t,n){var r=e==null?"":""+e;return r===""?null:r}function Fl(e,t){return e==null?null:String(e)}function ee(e,t,n,r,i,o){var c=e.__className;if(c!==n||c===void 0){var d=Nl(n);d==null?e.removeAttribute("class"):t?e.className=d:e.setAttribute("class",d),e.__className=n}return o}function Le(e,t,n,r){var i=e.__style;if(i!==t){var o=Fl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const Ol=Symbol("is custom element"),Dl=Symbol("is html");function sn(e,t){var n=Fn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function _r(e,t){var n=Fn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function P(e,t,n,r){var i=Fn(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[wo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Rl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Fn(e){return e.__attributes??={[Ol]:e.nodeName.includes("-"),[Dl]:e.namespaceURI===Ro}}var gr=new Map;function Rl(e){var t=e.getAttribute("is")||e.nodeName,n=gr.get(t);if(n)return n;gr.set(t,n=[]);for(var r,i=e,o=Element.prototype;o!==i;){r=fo(i);for(var c in r)r[c].set&&n.push(c);i=wn(i)}return n}function an(e,t,n=t){var r=new WeakSet;ll(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=un(e)?cn(o):o,n(o),O!==null&&r.add(O),await pl(),o!==(o=t())){var c=e.selectionStart,d=e.selectionEnd,l=e.value.length;if(e.value=o??"",d!==null){var f=e.value.length;c===d&&d===l&&f>l?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=c,e.selectionEnd=Math.min(d,f))}}}),gt(t)==null&&e.value&&(n(un(e)?cn(e.value):e.value),O!==null&&r.add(O)),Cn(()=>{var i=t();if(e===document.activeElement){var o=At??O;if(r.has(o))return}un(e)&&i===cn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function un(e){var t=e.type;return t==="number"||t==="range"}function cn(e){return e===""?null:+e}function pr(e,t){return e===t||e?.[Mt]===t}function fn(e={},t,n,r){return Wr(()=>{var i,o;return Cn(()=>{i=o,o=[],gt(()=>{e!==n(...o)&&(t(e,...o),i&&pr(n(...i),e)&&t(null,...i))})}),()=>{Ye(()=>{o&&pr(n(...o),e)&&t(null,...o)})}}),e}function mr(e){re===null&&bo(),cl(()=>{const t=gt(e);if(typeof t=="function")return t})}const Pl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Pl);var Il=(e,t,n,r)=>t(n(),r[n()].value),Bl=et('<div style="width: 100%;"><label> </label> <input type="range" style="width: 100%;"/></div>'),Ul=(e,t)=>{e.target!==h(t)&&h(t).close()},$l=(e,t)=>{e.key==="Escape"&&h(t).close()},zl=(e,t)=>{t()},Wl=(e,t)=>{h(t)>0?N(t,0):N(t,h(t)+1)},jl=Nn('<g id="layer1"><path fill="#fff" d="M 0 2 L 0 18 L 20 18 L 20 17 L 1 17 L 1 2 L 0 2 z M 6.4921875 2.5 C 6.3623006 2.50207 6.2383174 2.554606 6.1464844 2.6464844 L 2.1464844 6.6464844 C 1.6556578 7.1177388 2.3822612 7.8443422 2.8535156 7.3535156 L 6.421875 3.7851562 L 10.083984 9.2773438 C 10.223774 9.4866441 10.49734 9.5594276 10.722656 9.4472656 L 14.400391 7.6074219 L 18.146484 11.353516 C 18.617739 11.844289 19.344289 11.117739 18.853516 10.646484 L 14.853516 6.6464844 C 14.701521 6.4947425 14.469605 6.457007 14.277344 6.5527344 L 10.671875 8.3554688 L 6.9160156 2.7226562 C 6.8217568 2.5812359 6.6621214 2.497372 6.4921875 2.5 z M 6.4824219 10.5 A 0.50083746 0.50083746 0 0 0 6.1464844 10.646484 L 2.1464844 14.646484 A 0.50083746 0.50083746 0 1 0 2.8535156 15.353516 L 6.5996094 11.609375 L 10.275391 13.447266 A 0.50083746 0.50083746 0 0 0 10.621094 13.486328 L 14.441406 12.53125 L 18.275391 14.447266 A 0.50083746 0.50083746 0 1 0 18.724609 13.552734 L 14.724609 11.552734 A 0.50083746 0.50083746 0 0 0 14.378906 11.513672 L 10.558594 12.46875 L 6.7246094 10.552734 A 0.50083746 0.50083746 0 0 0 6.4824219 10.5 z "></path></g>'),ql=Nn('<path style="fill:#FFF;stroke-width:0.0396344" d="m 9.5788998,16.025677 c -1.636372,-0.440696 -1.7779796,-2.691081 -0.2086571,-3.315912 0.3097319,-0.123319 0.9571003,-0.124599 1.2616903,-0.0025 l 0.211378,0.08474 0.680395,-0.398571 c 4.096339,-2.3996051 3.934967,-2.315329 4.240392,-2.21453 0.302639,0.09988 0.470328,0.323998 0.475017,0.634866 0.0057,0.376356 0.02811,0.357471 -2.332508,1.963529 -2.086825,1.41978 -2.155499,1.47051 -2.156878,1.593333 -0.01228,1.094597 -1.118953,1.93832 -2.1708292,1.655037 z M 10.41902,15.043083 c 0.716453,-0.391923 0.409556,-1.508405 -0.414627,-1.508405 -0.5352253,0 -0.9159626,0.465181 -0.7982224,0.975261 0.1290306,0.558989 0.7037636,0.811631 1.2128494,0.533144 z M 0.5476717,14.267343 C -0.3123351,13.876775 0.40270156,10.429887 1.7776258,8.3382555 6.4456509,1.2369291 17.433438,3.0440653 19.512609,11.255087 c 0.430261,1.699179 0.41677,2.766464 -0.03792,2.999733 l -0.176035,0.09031 -1.862815,-0.01104 c -2.321522,-0.01377 -2.266148,0.0062 -2.307471,-0.832131 l -0.02009,-0.407577 0.541579,-0.367696 c 0.626721,-0.425502 0.594368,-0.426033 0.656374,0.01078 l 0.04785,0.337101 h 1.107035 1.107034 l -0.0243,-0.208085 C 18.342599,11.143335 17.720053,9.6254174 16.690077,8.3465436 l -0.280611,-0.3484221 -0.63621,0.6333056 c -0.480747,0.4785518 -0.679793,0.6500498 -0.814565,0.7018285 -0.09809,0.037688 -0.431096,0.2171516 -0.74,0.3988092 C 13.556323,10.121583 13.650135,10.104775 13.398956,9.8789342 10.28437,7.0785418 4.8915576,9.3072881 4.8915576,13.39488 c 0,0.497959 -0.1285649,0.770921 -0.4205679,0.892928 -0.2294177,0.09586 -3.70712911,0.07772 -3.923318,-0.02047 z M 3.683703,12.828194 C 3.7935499,11.881745 4.2552256,10.769218 4.895823,9.9072799 L 5.1577119,9.5549022 4.3785492,8.7764703 3.5993866,7.9980383 3.3199684,8.3465013 C 2.3403649,9.5681678 1.6693669,11.12542 1.5047257,12.559317 c -0.013766,0.119894 -0.034772,0.284872 -0.046678,0.366618 L 1.436399,13.074564 H 2.5457537 3.6551086 Z M 6.453015,8.4212682 C 7.2689669,7.8757311 8.2450722,7.5028055 9.1621621,7.3862258 L 9.3702427,7.3597746 V 6.2532627 5.1467507 l -0.148629,0.019728 C 7.9120834,5.3402992 7.1669907,5.5528932 6.2101618,6.0257228 5.7357731,6.2601482 4.9540646,6.7536605 4.6537513,7.0083237 L 4.515031,7.1259573 5.2875201,7.9005523 c 0.424869,0.4260276 0.7754775,0.7745953 0.7791299,0.7745953 0.00365,0 0.1775163,-0.1142458 0.386365,-0.2538794 z M 14.721266,7.9000381 15.493755,7.1249286 15.374852,7.0256999 C 14.216444,6.0589687 12.538775,5.3750254 10.826806,5.1715774 L 10.638543,5.149204 v 1.1052852 1.1052852 l 0.208081,0.026451 c 0.918772,0.1167934 1.926361,0.5061389 2.724863,1.0529229 0.185291,0.1268804 0.345982,0.2318854 0.357091,0.2333452 0.01111,0.00146 0.367819,-0.3461454 0.792688,-0.7724554 z" id="path1168"></path>'),Hl=Nn('<path fill="#fff" d="M3 5h4v2H3V5m0 6h4v2H3v-2m0 6h4v2H3v-2m6-12h4v2h-4V5m0 6h4v2h-4v-2m0 6h4v2h-4v-2m6-12h4v2h-4V5m0 6h4v2h-4v-2m0 6h4v2h-4v-2Z"></path>'),Vl=(e,t)=>N(t,!0),Gl=(e,t)=>N(t,!0),Yl=(e,t,n)=>{t("setMode","manual"),t("setMotor",0),N(n,0)},Jl=(e,t)=>{t("triggerArousal",null)},Kl=(e,t)=>{t("resetDenied",null)},Zl=(e,t)=>{t()},Xl=(e,t,n)=>{t("setMode","manual"),t("setMotor",0),N(n,0)},Ql=(e,t)=>{t("triggerArousal",null)},es=(e,t)=>t("resetDenied",null),ts=(e,t)=>{t()},ns=(e,t,n,r,i)=>{t("setMode",h(n)),h(n)==="ORGASM"&&r.vibration_mode.value===3&&i("vibration_mode",2)},rs=et('<div class="radioBoxItem"><input type="radio" name="runmode"/> <label> </label></div>'),is=(e,t,n)=>t("vibration_mode",Number(n())),os=et('<div class="radioBoxItem"><input type="radio" name="vibemode"/> <label> </label></div>'),ls=(e,t,n)=>{t("setMotor",h(n))},ss=et('<label for="pleasure" style="color:orange"> </label> <input id="currentPleasure" type="range" min="0" step="1" style="width: 100%;accent-color: orange; background: linear-gradient(to right, orange 0%, orange 100%);"/>',1),as=et("<!> <!>",1),us=(e,t)=>h(t).close(),cs=(e,t)=>h(t).close(),fs=et(`<div class="mainContainer" role="none"><div style="position: relative; padding: .5%; width:100%;display: flex; justify-content: center; align-items: center;flex-direction: column;"><div style="display: flex; justify-content:space-between; width: 100%; "><div><button type="button" class="topButton" aria-label="Connect via WebSocket" title="Use WebSockets to connect to EOM"><svg width="20" height="20" viewBox="0 0 256 193" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><path fill="#3F  F" d="M192.44 144.645h31.78V68.339l-35.805-35.804-22.472 22.472 26.497 26.497v63.14zm31.864 15.931H113.452L86.954 134.08l11.237-11.236 21.885 21.885h45.028l-44.357-44.441 11.32-11.32 44.357 44.358V88.296l-21.801-21.801 11.152-11.153L110.685 0H0l31.696 31.696v.084H97.436l23.227 23.227-33.96 33.96L63.476 65.74V47.712h-31.78v31.193l55.007 55.007L64.314 156.3l35.805 35.805H256l-31.696-31.529z"></path></svg></button></div> <div><button title="Use bluetooth to connect to EOM" class="topButton" aria-label="Connect via bluetooth"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 976" width="20" height="20" aria-label="Bluetooth"><rect ry="291" height="976" width="640" fill="#0a3d91"></rect><path d="m157 330 305 307-147 178V179l147 170-305 299" stroke="#FFF" stroke-width="53" fill="none"></path></svg></button></div> <button class="topButton" title="Change display mode" style="background-color: #636; border-color: #969;" aria-label="Change display mode"><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-label="Display mode"><!></svg></button> <button class="topButton" title="Connect to toys for stimulation" style="background-color: #99aaff; border-color: #6666ff;" aria-label="Connect to toys for stimulation"><svg width="20" height="20" viewBox="0 -1.11 63.334 63.334" xmlns="http://www.w3.org/2000/svg"><g id="Group_92" data-name="Group 92" transform="matrix(1.3362883,0,0,1.3362883,-249.74734,-236.08547)"><path id="Path_135" data-name="Path 135" d="m 231.9,193.447 a 2.36,2.36 0 0 0 -3.938,-1.162 c -3.856,3.867 -9.935,6.363 -16.778,6.363 -0.65,0 -1.288,-0.036 -1.922,-0.08 A 10.324,10.324 0 1 0 195.4,193.3 a 14.214,14.214 0 0 0 -5.334,10.736 c 0,8.93 9.451,16.169 21.109,16.169 11.658,0 19.73,-7.346 21.109,-16.169 A 25.633,25.633 0 0 0 231.9,193.447 Z" fill="#fff1b6" stroke="#333333" stroke-miterlimit="10" stroke-width="2"></path><path id="Path_136" fill="#f77" data-name="Path 136" d="m 195.03,185.174 c -0.98574,0.50384 -2.06066,0.8096 -3.164,0.9 -0.67223,-0.0208 -2.40511,-0.13078 -3.0484,-0.327 -0.80795,-0.24121 -1.56005,0.5126 -1.317,1.32 0.17497,0.64347 1.12106,1.22421 1.61245,1.675 1.56023,1.41745 4.09215,2.15953 6.19795,2.064 1.10081,-0.24119 1.93718,-1.1389 2.1,-2.254 0.294,-2.252 -2.381,-3.378 -2.381,-3.378 z" stroke="#333333" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" style="stroke-width:1.18489;stroke-dasharray:none"></path><circle id="Ellipse_29" data-name="Ellipse 29" cx="0.954" cy="0.954" r="0.954" transform="translate(200.736,184.275)" fill="#ffffff" stroke="#333333" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></circle><path id="Path_137" data-name="Path 137" d="m 223.754,204.037 c 0,2.977 -5.857,6.737 -13.174,6.737 -7.317,0 -11.6,-3.369 -12.2,-5.914 -0.782,-3.323 1.272,-8.009 11.153,-6.287" fill="none" stroke="#333333" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></g></svg></button> <button class="topButton" aria-label="Open settings" title="Settings" style="background-color: #999; border-color: #ccc;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" cursor="pointer" aria-label="Settings"><path fill="#fff" d="M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"></path></svg></button></div> <div><canvas style="position: relative; height:40vh; width:100%; "></canvas> <div class="statBoxes"><div class="statBoxButton" title="Click to halt pleasure immediately!" style="border-color: orange; color: orange;" role="none"> </div> <div class="statBoxButton" title="Click to trigger a cooldown period" style="border-color: red; color: red;" role="none"> </div> <div class="statBoxButton" style="border-color: #FF7FFF; color: #FF7FFF;" role="none"> </div> <div class="statBoxButton" title="Click to apply pressure!" style="border-color: green; color: green;" role="none"> </div></div></div> <div><div class="gauges"><div class="gaugeRow"><div class="circular-progress"><svg viewBox="0 0 200 200"><circle cx="100" cy="100" r="85" fill="none" stroke="#333" stroke-width="20"></circle><circle cx="100" cy="100" r="85" fill="none" stroke="orange" stroke-width="20" transform="rotate(90 100 100)" stroke-linecap="round"></circle><text x="100" y="100" text-anchor="middle" dominant-baseline="middle" fill="orange" font-size="48" font-weight="bold"> </text><text x="100" y="130" text-anchor="middle" dominant-baseline="middle" fill="orange" font-size="16" font-weight="bold">Pleasure</text></svg> <button class="belowCircleButton" style="background-color: darkorange; border-color: orange;">Manual Full-Stop</button></div> <div class="circular-progress"><svg viewBox="0 0 200 200"><circle cx="100" cy="100" r="85" fill="none" stroke="#333" stroke-width="20"></circle><circle cx="100" cy="100" r="85" fill="none" stroke="red" stroke-width="20" transform="rotate(90 100 100)" stroke-linecap="round"></circle><line x1="100" y1="50" x2="100" y2="0" stroke="#FF6666" stroke-width="4"></line><text x="100" y="100" text-anchor="middle" dominant-baseline="middle" fill="red" font-size="48" font-weight="bold"> </text><text x="100" y="130" text-anchor="middle" dominant-baseline="middle" fill="red" font-size="16" font-weight="bold">Arousal</text></svg> <button class="belowCircleButton" style="background-color: red; border-color: darkred;">Trigger Edge/Cooldown</button></div></div> <div class="gaugeRow"><div class="circular-progress"><svg viewBox="0 0 200 200"><circle cx="100" cy="100" r="85" fill="none" stroke="#333" stroke-width="20"></circle><circle cx="100" cy="100" r="85" fill="none" stroke="#FF7FFF" stroke-width="20" transform="rotate(90 100 100)" stroke-linecap="round"></circle><text x="100" y="100" text-anchor="middle" dominant-baseline="middle" fill="#FF7FFF" font-size="48" font-weight="bold"> </text><text x="100" y="130" text-anchor="middle" dominant-baseline="middle" fill="#FF7FFF" font-size="16" font-weight="bold">Denied</text></svg> <button class="belowCircleButton" style="background-color: #FF7FFF; color: black; border-color: #FFBFFF;" title="Reset denied orgasms count">Reset Denial Count</button></div> <div class="circular-progress"><svg viewBox="0 0 200 200"><circle cx="100" cy="100" r="85" fill="none" stroke="#333" stroke-width="20"></circle><circle cx="100" cy="100" r="85" fill="none" stroke="green" stroke-width="20" transform="rotate(90 100 100)" stroke-linecap="round"></circle><text x="100" y="100" text-anchor="middle" dominant-baseline="middle" fill="green" font-size="48" font-weight="bold"> </text><text x="100" y="130" text-anchor="middle" dominant-baseline="middle" fill="green" font-size="16" font-weight="bold">Pressure</text></svg> <button class="belowCircleButton" style="background-color: green; border-color: darkgreen;" title="Everything happens one notch faster">Apply Pressure</button></div></div></div> <div> </div></div> <div><input type="range" min="0" step="1" style="
          accent-color: orange; 
          background: linear-gradient(to right, orange 0%, orange 100%);
          cursor: default;
          transform: rotate(-90deg); 
          pointer-events: none;
        " readonly=""/></div> <div class="radioBoxes"><div class="radioBox"><div style="font-weight: bold; margin-right: 2em; color:#999">Control:</div> <!></div> <div class="radioBox"><div style="font-weight: bold; margin-right: 0.5em; color:#999">Mode:</div> <!></div></div> <div class="settingSliders"><!> <!> <!></div></div></div> <dialog class="settingsDialog" style=""><div style="padding: 0; margin-top: 0;"><button style="float:right; font-size: 1.5em; background: none; border: none; cursor: pointer;" aria-label="Close settings">&times;</button> <h2>Settings</h2> <hr/> <!></div></dialog> <dialog class="settingsDialog" style=""><div style="padding: 0; margin-top: 0;"><button style="float:right; font-size: 1.5em; background: none; border: none; cursor: pointer;" aria-label="Close settings">&times;</button> <h2>Connect to bluetooth toys</h2> <hr/> <p>Feature coming soon.  Pleasure level will be transmitted to lights, vibrators, strokers, and e-stim units</p></div></dialog>`,1);function ds(e,t){Er(t,!0);const n=(s,u=ho)=>{var w=Bl(),b=M(w),T=M(b),y=C(b,2);y.__change=[Il,ze,u,f],lt(A=>{P(b,"for",u()),P(b,"title",f[u()].description),X(T,`${f[u()].label??""} :
      ${A??""}`),P(y,"id",u()),P(y,"title",f[u()].description),P(y,"min",f[u()].min),P(y,"max",f[u()].max)},[()=>gi(u())]),an(y,()=>f[u()].value,A=>f[u()].value=A),ue(s,w)};let r=window.location.protocol==="https:",i=B(Me(window.location.toString().replace("/ui","/").replace(/http(s?):\/\//,r?"wss://":"ws://").replace(/^(wss?:\/\/)[^\/:]+(:\d+)?(\/.*)?$/,(s,u,w,b)=>{const T=s.replace(u,"").replace(w||"","").replace(b||"",""),y=/^\d+\.\d+\.\d+\.\d+$/.test(T);return u+(y?T:"192.168.4.1")})));(window.location.toString().match(/\.\d+\/?$/)??[]).length>0&&window.location.replace(window.location.toString()+"ws");let o={1:"RampStop",2:"Depletion",3:"Enhancement"},c=["MANUAL","ENDLESS","ORGASM"];function d(s,u){if(u==="pleasure"||u==="motor")return typeof s.motor=="number"?Math.round(s.motor/f.max_pleasure.value*E):0;if(u==="runMode")return c.indexOf(s.runMode);if(u==="denials")return typeof s.denied=="number"?Math.round(s.denied/Ue*E):0;const w=s[u];return typeof w=="number"?w:0}function l(s,u){if(s.length===0)return 0;const w=s[s.length-1];return d(w,u)}let f=Me({sensitivity_threshold:{value:1e3,min:0,max:4096,label:"Arousal Threshold",type:"%",description:"The arousal threshold for orgasm detection. Lower values stop sooner."},vibration_mode:{value:2,min:1,max:4,label:"Mode",type:"mode",description:"The algorithm used during endless or orgasm mode."},max_pleasure:{value:255,min:0,max:255,label:"Maximum Pleasure Intensity",type:"%",description:"Maximum intensity of pleasure during stimulation."},max_denied:{value:20,min:0,max:100,label:"Maximum Denials",type:"denied orgasms",description:"Maximum number of denials before forcing an orgasm (in orgasm mode). 0 or 100 disables this limit. Also changes the scale of the chart line in other modes."},motor_ramp_time_s:{value:10,min:1,max:120,label:"Pleasure Ramp Time",type:"seconds",description:"Time (s) taken to ramp the pleasure from the starting amount to the maximum."},initial_pleasure:{value:10,min:0,max:255,label:"Starting Pleasure Intensity",type:"%",description:"Initial intensity of pleasure when stimulation starts."},edge_delay:{value:10,min:0,max:60,label:"Edge Delay",type:"seconds",description:"Minimum time to wait after an edge detection before resuming pleasure."},max_additional_delay:{value:5,min:0,max:60,label:"Max Additional Delay",type:"seconds",description:"A random amount of extra seconds to add to the wait time before resuming after an edge detection."},chart_window_s:{value:5,min:1,max:120,label:"Chart Window",type:"seconds",description:"The number of seconds to display in the chart history.  Higher numbers can cause sluggish behavior on slower devices."},minimum_on_time:{value:5,min:0,max:60,label:"Minimum On Time",type:"seconds",description:"Time after stimulation restarts before edge detection is resumed."},pressure_smoothing:{value:10,min:0,max:100,label:"Pressure Smoothing",type:"samples",description:"Number of samples to take an average of. Higher numbers can reduce false positives but may result in lag and lower resolution!"},update_frequency_hz:{value:50,min:1,max:100,label:"Update Frequency (Hz)",type:"Hz",description:"Update frequency for pressure readings and arousal steps."},sensor_sensitivity:{value:16,min:1,max:255,label:"Sensor Sensitivity",type:"%",description:"Analog pressure sensor prescaling. Higher values are more sensitive."},clench_pressure_sensitivity:{value:3e3,min:0,max:4096,label:"Clench Pressure Sensitivity",type:"%",description:"Minimum additional Arousal level to detect clench"},clench_time_to_orgasm_ms:{value:5e3,min:0,max:6e4,label:"Clench Time to Orgasm (ms)",type:"ms",description:"Threshold variable that is milliseconds count of clench to detect orgasm."},clench_time_threshold_ms:{value:2e3,min:0,max:6e4,label:"Clench Time Threshold (ms)",type:"ms",description:"Threshold variable that is milliseconds counts to detect the start of clench."},max_clench_duration_ms:{value:2e4,min:0,max:6e4,label:"Max Clench Duration (ms)",type:"ms",description:"Duration the clench detector can raise arousal if clench detector turned on in edging session."},auto_edging_duration_minutes:{value:15,min:1,max:120,label:"Auto-Edging Duration",type:"minutes",description:"How long to edge before permiting an orgasm."},post_orgasm_duration_seconds:{value:60,min:0,max:180,label:"Post Orgasm Duration",type:"seconds",description:"How long to stimulate after orgasm detected."},clench_detector_in_edging:{value:1,min:0,max:1,label:"Clench Detector in Edging",type:"yes/no",description:"Enable clench detection while in edging mode."},use_post_orgasm:{value:1,min:0,max:1,label:"Use Post Orgasm",type:"yes/no",description:"Use post-orgasm torture mode and functionality."},use_average_values:{value:1,min:0,max:1,label:"Use Average Values",type:"yes/no",description:"Use average values when calculating arousal. This smooths noisy data."}}),p=["sensitivity_threshold","motor_ramp_time_s","edge_delay","chart_window_s"],k=["max_additional_delay","max_pleasure","initial_pleasure","sensor_sensitivity","max_denied","minimum_on_time","pressure_smoothing","update_frequency_hz","sensor_sensitivity","clench_pressure_sensitivity","clench_time_to_orgasm_ms","clench_time_threshold_ms","clench_detector_in_edging","max_clench_duration_ms","post_orgasm_duration_seconds","use_post_orgasm","use_average_values"],a=Me([{pressure:4e3,arousal:4e3,motor:255,threshold:400,denied:10,runMode:"ENDLESS",localTime:Date.now()},{pressure:0,arousal:0,motor:0,threshold:0,denied:0,runMode:"ENDLESS",localTime:0}]),m={pleasure:["orange",3],arousal:["red",3],threshold:["red",2],denials:["#FF7FFF",2],pressure:["green",1]},g=B(0),v,_,D=5;const S={top:10,right:0,bottom:5,left:5};let E=4096,$=2,ae=4,z=B(0),Ue=20,me=100,R=B(!1),W=B(!1),ie=null,we=null,q=B(void 0),tt=B(!1),nt=B(!1),$e=B(0),ke=B(void 0);function On(){console.log("Chart ready"),_.canvas.width=window.innerWidth,_.canvas.height=window.innerHeight;const s=Object.entries(m),u=Math.round((v.width-v.width*(S.left+S.right)/100)/(s.length+1));let w=Math.round(_.canvas.height*S.top/100),b=u/4,T=b/4;_.font="bold 1.5em sans-serif",_.fontStretch="condensed",_.textRendering="optimizeLegibility",_.fillStyle="black",_.fillRect(0,0,v.width,v.height),_.textAlign="left";for(let A=0;A<=E;A+=E/4){const I=_.canvas.height-A/E*(_.canvas.height-_.canvas.height*(S.top+S.bottom)/100)-_.canvas.height*S.bottom/100;_.fillStyle="white",_.fillText(Math.round(A/E*100).toString()+"%",5,I,Math.round(v.width*S.left/100/1.5))}let y=u;for(const[A,[I,K]]of s)_.fillStyle=I,_.fillRect(y,Math.round(_.canvas.height*S.top/100*1.25)-w,b,Math.round(w/2)),_.fillText(A,y+b+T,w/1.666,u-b-T),y+=u;_.fillStyle="black",Pn()}function Dn(s,u){if(s[1]===s[0])return y=>0;const w=(u[1]-u[0])/(s[1]-s[0]),b=Math.min(u[0],u[1]),T=Math.max(u[0],u[1]);return y=>Math.max(b,Math.min(T,u[0]+w*(y-s[0])))}function Ut(s){return s.arousal>=s.threshold}function Rn(s){return(s.cooldown??0)>0&&s.motor==0}function Pn(){if(!_||!v)return;const s=x(a);if(s.length===0)return;const u=Dn([0,s.length-1],[v.width*S.left/100,v.width-v.width*S.right/100]),w=Dn([0,E],[v.height-v.height*S.bottom/100,v.height*S.top/100+$]);let b=s[s.length-1];Ut(b)||Rn(b)?h(g)>=D?(_.fillStyle=_.fillStyle=="#111111"?"#330000":"#111111",N(g,0)):N(g,h(g)+1):_.fillStyle="#111111",_.fillRect(v.width*S.left/100-$,v.height*S.top/100-$,v.width-v.width*S.right/100,v.height-v.height*S.bottom/100);for(let y=0;y<=E;y+=E/4){const A=_.canvas.height-y/E*(_.canvas.height-_.canvas.height*(S.top+S.bottom)/100)-_.canvas.height*S.bottom/100;_.beginPath(),_.setLineDash([5,5]),_.strokeStyle="white",_.moveTo(v.width*S.left/100,A),_.lineTo(v.width-v.width*S.right/100,A),_.stroke(),_.setLineDash([])}let T=$t();T.length>0&&(_.font=v.width>600?v.width>900?"bold 3em sans-serif":"2em sans-serif":"1em sans-serif",_.textAlign="center",_.strokeText(T,v.width/2,v.height/2));for(const[y,[A,I]]of Object.entries(m))_.strokeStyle=A,_.setLineDash(y==="threshold"?[10,10]:[]),_.beginPath(),_.moveTo(v.width*S.left/100+$,w(d(s[0],y))),s.forEach((K,Z)=>{Ut(K)&&y==="arousal"?_.lineWidth=I*ae:_.lineWidth=I,_.lineTo(u(Z),w(d(K,y))),_.stroke(),_.beginPath(),_.moveTo(u(Z),w(d(K,y)))})}function $t(){let s=x(a)[x(a).length-1],u="";if(Rn(s))u=Ut(s)?"DENIED ORGASM - COOLING DOWN":`DENIED FOR ${s.cooldown} MORE SECONDS`;else if((s.runMode??"")==="ORGASM"){let w=s.permit??0,b=" IN "+(w>60?Math.ceil(w/60).toString()+" MINUTES":w.toString()+" SECOND"+(w>1?"S":""));if(f.max_denied.value>0&&f.max_denied.value<100){let T=f.max_denied.value-(s.denied??0);T>0?b+=` OR ${T} DENIAL`+(T!=1?"S":""):b="!!"}u=`ORGASM PERMITTED${b}`}return u}function oi(s){Pn()}function li(s){console.log("Received configuration data:",s);for(const[u,w]of Object.entries(s))u in f&&(f[u].value=Number(w))}function si(s){try{let u=JSON.parse(s.data);if(!u){console.warn("Received empty data:",u);return}if(!u.readings){u.wifiStatus||(u.configList?li(u.configList):u.setMode!==void 0||u.setMotor!==void 0||u.vibration_mode!==void 0||console.warn("Received unknown data:",u));return}if(u=u.readings,!u.millis){console.warn("Received data without 'millis' field:",u);return}if(u.pressure===void 0||u.arousal===void 0||u.motor===void 0){console.warn("Received data missing expected fields:",u);return}for(u.pleasure=u.motor,u.localTime=Date.now(),a.push(u);a.length>0&&(u.millis-(a[0].millis??0)>f.chart_window_s.value*1e3||Date.now()-(a[0].localTime??0)>f.chart_window_s.value*1e3);)a.shift();v?.dispatchEvent(new CustomEvent("updated",{}))}catch(u){console.error("Error parsing WebSocket message:",u)}}function ai(){N(R,!0),we.disconnect(),N(W,!1),console.log("WebSocket connection established");let s=JSON.stringify({configList:null});h(q).send(s),h(q).send(JSON.stringify({streamReadings:null})),v?.dispatchEvent(new CustomEvent("ready",{})),setInterval(()=>{let u=x(a)[x(a).length-1].localTime??0;Date.now()-u>1e4&&(console.log("WebSocket data is stale...dropped connection?"),N(R,!1),h(q).close(),N(q,new WebSocket(h(i)),!0),In(h(q)),console.log("Reconnecting to ",h(i),h(q)))},5e3)}function ui(s){N(R,!1),console.error("WebSocket error observed:",s)}function ze(s,u){if(f[s].value=u,h(R)){let w=JSON.stringify({configSet:{[s]:u}});h(q).send(w),console.log(`Sent ${s} change:`,u)}else h(W)&&ie!=null&&ie.writeValue(new Uint8Array([2,...new TextEncoder().encode(s),58,...new TextEncoder().encode(u.toString())])).then(()=>{console.log(`Sent ${s} change via Bluetooth:`,u)}).catch(w=>{console.error("Error sending setting change via Bluetooth:",w,s,u)})}function Ee(s,u){if(h(R)){let w=JSON.stringify({[s]:u});h(q).send(w)}else if(h(W)){let w=s=="setMode"?c.indexOf(String(u)):l(x(a),"runMode"),b;if(s=="setMotor"){let T=s=="setMotor"?Number(u):l(x(a),"pleasure");b=new Uint8Array([1,w,0,0,Number(T)])}else b=new Uint8Array([1,w,s=="triggerArousal"?1:0,s=="resetDenied"?1:0]);console.log(`sending ${s} change via Bluetooth:`,b),ie.writeValue(b).then(()=>{console.log(`Sent ${s} change via Bluetooth:`,u)}).catch(T=>{console.error("Error sending setting change via Bluetooth:",T)})}else{console.warn("Not connected via WebSocket or Bluetooth. Cannot send setting change.");return}console.log(`Sent ${s} change:`,u)}let zt=new Map;const ci=30;function fi(s,u){const w=zt.get(s);w!==void 0&&clearTimeout(w);const b=setTimeout(()=>{Ee(s,u),zt.delete(s)},ci);zt.set(s,b)}function In(s){s.onopen=ai,s.onerror=ui,s.onmessage=si}const di=s=>{v=s,_=v.getContext("2d");function u(w,b){v.dispatchEvent(new CustomEvent(w,{detail:b}))}mr(()=>{u("ready",void 0)})};mr(()=>{setInterval(()=>{if(console.log(x(h(R)),h(R),x(h(W)),h(W)),!(h(R)||h(W))){console.log("Not connected");return}console.log("Current readings:",x(a)[x(a).length-1])},3e4)});function vi(){const s=prompt("Enter WebSocket URL:",h(i));s!==null&&s.trim()!==""&&(N(i,s.trim(),!0),h(q)?.close(),N(R,!1),N(q,new WebSocket(h(i)),!0),In(h(q)),console.log("Connecting to ",h(i),h(q)))}function hi(s){const u=s.target;ie=null,we=null,console.log(`Device ${u.name} is disconnected.`),N(W,!1)}function _i(){h(W)&&ie!=null&&ie.writeValue(new Uint8Array([3])).then(()=>{console.log("Sent configuration request via Bluetooth.")}).catch(s=>{console.error("Error sending configuration request via Bluetooth:",s)})}function gi(s){const u=f[s];return u.type==="%"?Math.round(u.value/u.max*100).toString()+" %":u.type==="yes/no"?u.value===1?"Yes":"No":s=="max_denied"?u.value===0||u.value===100?"Unlimited":`${u.value} denied orgasms`:`${u.value} ${u.type}`}function Bn(){ze("motor_ramp_time_s",f.motor_ramp_time_s.value>1?f.motor_ramp_time_s.value-1:1),setTimeout(()=>{ze("edge_delay",f.edge_delay.value>0?f.edge_delay.value-1:0)},100),setTimeout(()=>{let s=x(a)[x(a).length-1].threshold;ze("sensitivity_threshold",s+me>E?E:s+me)},200)}const Wt=navigator.bluetooth;var Un=fs(),pt=ot(Un);pt.__click=[Ul,ke],pt.__keyup=[$l,ke];var pi=M(pt),$n=M(pi),jt=M($n),qt=M(jt);qt.__click=[zl,vi];var Ht=C(jt,2),zn=M(Ht);zn.__click=()=>{if(!Wt){alert("Web bluetooth is not available on iOS devices or Firefox.");return}h(W)?(console.log("Disconnecting from Bluetooth device:",we),we?.gatt.disconnect(),N(W,!1)):Wt.requestDevice({optionalServices:[26985,26986,26987],filters:[{namePrefix:"Libotoy"}]}).then(s=>{console.log("Connecting to device:",s),s.addEventListener("gattserverdisconnected",hi),we=s,s.gatt.connect().then(u=>{console.log("Connected to GATT server:",u),u.getPrimaryService(26985).then(w=>{console.log("Got primary service:",w),w.getCharacteristic(26986).then(b=>{console.log("Got characteristic:",b),b.addEventListener("characteristicvaluechanged",T=>{const y=T.target.value,A=new Uint8Array(y.buffer);let I={pressure:A[0]*16,arousal:A[1]*16,threshold:A[2]*16,motor:A[3],pleasure:A[3],cooldown:A[4],denied:A[5],runMode:c[A[6]]??"ENDLESS",pleasureMode:A[7],permit:A[8]*255+(A[9]??0),millis:Date.now(),localTime:Date.now()};for(a.push(I);a.length>0&&Date.now()-(a[0].localTime??0)>f.chart_window_s.value*1e3;)a.shift();N(z,Number(I.pleasure),!0),v?.dispatchEvent(new CustomEvent("updated",{}))}),b.startNotifications().then(()=>{console.log("Notifications started for characteristic:",b.uuid),h(q)?.close(),N(R,!1),N(W,!0)})}),w.getCharacteristic(26987).then(b=>{console.log("Got control characteristic:",b),ie=b,console.log("Ready to send control commands via Bluetooth.",ie)}),w.getCharacteristic(26988).then(b=>{console.log("Got characteristic:",b),b.addEventListener("characteristicvaluechanged",T=>{const y=T.target.value,A=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);let I=A.length;for(let j=0;j<A.length;j++)if(A[j]===0){I=j;break}const Z="{"+new TextDecoder().decode(A.slice(0,I))+"}";try{console.log("Received config data:",Z,y);const j=JSON.parse(Z);for(const[Se,it]of Object.entries(j))Se in f&&(f[Se].value=it)}catch(j){console.error("Error parsing config JSON:",j,Z)}}),b.startNotifications().then(()=>{console.log("Notifications started for characteristic:",b.uuid),_i()})})}).catch(w=>{console.error("Error getting primary service:",w)})}).catch(u=>{console.error("Error connecting to GATT server:",u)})}).catch(s=>{console.error(s)})};var Vt=C(Ht,2);Vt.__click=[Wl,$e];var mi=M(Vt),wi=M(mi);{var bi=s=>{var u=jl();ue(s,u)},yi=s=>{var u=hr(),w=ot(u);{var b=y=>{var A=ql();ue(y,A)},T=y=>{var A=Hl();ue(y,A)};at(w,y=>{h($e)==1?y(b):y(T,!1)},!0)}ue(s,u)};at(wi,s=>{h($e)==0?s(bi):s(yi,!1)})}var Wn=C(Vt,2);Wn.__click=[Vl,nt];var xi=C(Wn,2);xi.__click=[Gl,tt];var Gt=C($n,2),We=M(Gt);fn(We,s=>v=s,()=>v),Tl(We,s=>di?.(s));var ki=C(We,2),Yt=M(ki);Yt.__click=[Yl,Ee,z];var Ei=M(Yt),Jt=C(Yt,2);Jt.__click=[Jl,Ee];var Si=M(Jt),mt=C(Jt,2);mt.__click=[Kl,Ee];var Mi=M(mt),jn=C(mt,2);jn.__click=[Zl,Bn];var Ci=M(jn),Kt=C(Gt,2),qn=M(Kt),Hn=M(qn),Vn=M(Hn),Gn=M(Vn),wt=C(M(Gn));P(wt,"stroke-dasharray",2*Math.PI*85);var Zt=C(wt),Ai=M(Zt),Ti=C(Zt),Li=C(Gn,2);Li.__click=[Xl,Ee,z];var Ni=C(Vn,2),Yn=M(Ni),bt=C(M(Yn));P(bt,"stroke-dasharray",2*Math.PI*85);var Xt=C(bt),Qt=C(Xt),Fi=M(Qt),Oi=C(Qt),Di=C(Yn,2);Di.__click=[Ql,Ee];var Ri=C(Hn,2),Jn=M(Ri),Kn=M(Jn),yt=C(M(Kn));P(yt,"stroke-dasharray",2*Math.PI*85);var en=C(yt),Pi=M(en),Ii=C(en),Bi=C(Kn,2);Bi.__click=[es,Ee];var Ui=C(Jn,2),Zn=M(Ui),tn=C(M(Zn));P(tn,"stroke-dasharray",2*Math.PI*85);var $i=C(tn),zi=M($i),Wi=C(Zn,2);Wi.__click=[ts,Bn];var Xn=C(qn,2),ji=M(Xn),nn=C(Kt,2),Qn=M(nn),er=C(nn,2),tr=M(er),qi=C(M(tr),2);St(qi,17,()=>c,Et,(s,u,w)=>{var b=rs(),T=M(b);P(T,"id",`runmode-${w}`),T.__change=[ns,Ee,u,f,ze];var y=C(T,2);P(y,"for",`runmode-${w}`);var A=M(y);lt((I,K,Z)=>{sn(T,h(u)),_r(T,I),ee(y,1,K),X(A,Z)},[()=>x(a)[x(a).length-1].runMode==h(u),()=>Q(x(a)[x(a).length-1].runMode==h(u)?"radioChosen":"radioChoice"),()=>h(u).substring(0,1).toUpperCase()+h(u).substring(1).toLowerCase()]),ue(s,b)});var Hi=C(tr,2),Vi=C(M(Hi),2);St(Vi,17,()=>Object.entries(o),Et,(s,u)=>{var w=Qo(()=>go(h(u),2));let b=()=>h(w)[0],T=()=>h(w)[1];var y=hr(),A=ot(y);{var I=K=>{var Z=os(),j=M(Z);j.__change=[is,ze,b];var Se=C(j,2),it=M(Se);lt((rn,on)=>{P(j,"id",`vibemode-${b()??""}`),sn(j,b()),_r(j,rn),P(Se,"for",`vibemode-${b()??""}`),ee(Se,1,on),X(it,T())},[()=>f.vibration_mode.value===Number(b()),()=>Q(f.vibration_mode.value===Number(b())?"radioChosen":"radioChoice")]),ue(K,Z)};at(A,K=>{(x(a)[x(a).length-1].runMode!=="ORGASM"||b()!=="3")&&K(I)})}ue(s,y)});var Gi=C(er,2),nr=M(Gi);{var Yi=s=>{var u=ss(),w=ot(u),b=M(w),T=C(w,2);T.__input=[ls,fi,z],lt(y=>{X(b,`Pleasure: ${y??""} %`),P(T,"max",f.max_pleasure.value)},[()=>Math.floor(l(x(a),"pleasure")/E*100)]),an(T,()=>h(z),y=>N(z,y)),ue(s,u)};at(nr,s=>{x(a)[x(a).length-1].runMode==="MANUAL"&&s(Yi)})}var rr=C(nr,2);{var Ji=s=>{var u=as(),w=ot(u);n(w,()=>"auto_edging_duration_minutes");var b=C(w,2);n(b,()=>"max_denied"),ue(s,u)};at(rr,s=>{x(a)[x(a).length-1].runMode==="ORGASM"&&s(Ji)})}var Ki=C(rr,2);St(Ki,17,()=>p,Et,(s,u)=>{n(s,()=>h(u))});var rt=C(pt,2),Zi=M(rt),ir=M(Zi);ir.__click=[us,ke];var Xi=C(ir,6);St(Xi,17,()=>k,Et,(s,u)=>{n(s,()=>h(u))}),fn(rt,s=>N(ke,s),()=>h(ke));var xt=C(rt,2),Qi=M(xt),eo=M(Qi);eo.__click=[cs,ke],fn(xt,s=>N(ke,s),()=>h(ke)),lt((s,u,w,b,T,y,A,I,K,Z,j,Se,it,rn,on,to,no,ro,io,oo,lo,so,ao,uo)=>{Le(jt,h(W)?"visibility: hidden;":"white-space: nowrap; display: flex; align-items: center;"),Le(qt,h(R)?"background-color: #3aada1; border-color: #0a9d91;":"background-color: #999; border-color: #ccc;"),sn(qt,h(R)?"Connected":"Connect"),Le(Ht,h(R)?"visibility: hidden;":"white-space: nowrap; display: flex; align-items: center;"),Le(zn,Wt?h(W)?"background-color: #10b030; border-color: #30e060;":"background-color: #3a6dc1; border-color: #0a3d91;":"background-color: darkred; border-color: darkred;"),Le(Gt,h($e)!=1?"display: none; width:100%;":"width:100%;"),X(Ei,`Pleasure: ${s??""}`),X(Si,`Arousal: ${u??""} %`),P(mt,"title",`Click to reset ${f.vibration_mode.value!==3?"denied ":""}orgasms count`),X(Mi,`${f.vibration_mode.value===3?"Orgasms":"Denied"}: ${w??""}`),X(Ci,`Pressure: ${b??""} %`),Le(Kt,h($e)!=0?"display: none;":""),P(wt,"stroke-dashoffset",2*Math.PI*85*(1-h(z)/f.max_pleasure.value)),ee(wt,0,T),ee(Zt,0,y),X(Ai,`${A??""}%`),ee(Ti,0,I),P(bt,"stroke-dashoffset",K),ee(bt,0,Z),ee(Xt,0,j),P(Xt,"transform",`rotate(${Se??""} 100 100)`),ee(Qt,0,it),X(Fi,`${rn??""}%`),ee(Oi,0,on),P(yt,"stroke-dashoffset",to),ee(yt,0,no),ee(en,0,ro),X(Pi,io),ee(Ii,0,oo),P(tn,"stroke-dashoffset",lo),X(zi,`${so??""}%`),ee(Xn,1,ao),X(ji,uo),Le(nn,h($e)!=2?"display: none;":"display: flex; justify-content: center; align-items: center; height: 40vh; gap: 2rem;"),P(Qn,"max",f.max_pleasure.value),rt.open=h(tt),xt.open=h(nt)},[()=>Math.floor(l(x(a),"pleasure")/E*100)?Math.round(l(x(a),"pleasure")/E*99).toString()+"%":"DENIED!",()=>Math.floor(l(x(a),"arousal")/E*100),()=>l(x(a),"denied"),()=>Math.round(l(x(a),"pressure")/E*100),()=>Q(l(x(a),"cooldown")==0&&l(x(a),"pleasure")>0?"cooldown-flash-stroke-orange":""),()=>Q(l(x(a),"cooldown")==0&&l(x(a),"pleasure")>0?"cooldown-flash-text-orange":""),()=>Math.round(h(z)/f.max_pleasure.value*100),()=>Q(l(x(a),"cooldown")==0&&l(x(a),"pleasure")>0?"cooldown-flash-text-orange":""),()=>2*Math.PI*85*(1-l(x(a),"arousal")/E),()=>Q(l(x(a),"cooldown")>0?"cooldown-flash-stroke":""),()=>Q(l(x(a),"cooldown")>0?"cooldown-flash-stroke":""),()=>l(x(a),"threshold")/E*360-180,()=>Q(l(x(a),"cooldown")>0?"cooldown-flash-text":""),()=>Math.round(l(x(a),"arousal")/E*100),()=>Q(l(x(a),"cooldown")>0?"cooldown-flash-text":""),()=>2*Math.PI*85*(1-l(x(a),"denied")/Ue),()=>Q(l(x(a),"cooldown")>0?"cooldown-flash-stroke-pink":""),()=>Q(l(x(a),"cooldown")>0?"cooldown-flash-text-pink":""),()=>l(x(a),"denied"),()=>Q(l(x(a),"cooldown")>0?"cooldown-flash-text-pink":""),()=>2*Math.PI*85*(1-l(x(a),"pressure")/E),()=>Math.round(l(x(a),"pressure")/E*100),()=>Q(l(x(a),"cooldown")>0?"statusText cooldown-flash-text":"statusText"),()=>x(a)[x(a).length-1].runMode=="MANUAL"?"MANUALLY CONTROLLING PLEASURE":$t().length>0?$t():"INCREASING PLEASURE"]),st("updated",We,oi),st("ready",We,On),st("resize",We,On),an(Qn,()=>h(z),s=>N(z,s)),st("close",rt,()=>N(tt,!1)),st("close",xt,()=>N(nt,!1)),ue(e,Un),Sr()}xl(["change","click","keyup","input"]);"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js");El(ds,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:top center;min-height:100vh}h2{margin:0}#app{width:100vw}.radioBoxes{margin-top:.25em;display:flex;justify-content:space-evenly}.radioBox{border:1px solid gray;padding:.25em;margin-top:.5em;display:flex;align-items:center;flex-wrap:wrap;text-wrap:nowrap;width:auto;margin-left:1em;margin-right:1em;min-width:fit-content}.radioBoxItem{display:flex;align-items:center;text-wrap:nowrap;color:#fff}.radioBoxItem input{margin:.25em .25em .25em .75em;cursor:pointer}.radioBoxItem label{cursor:pointer}.radioChosen{font-weight:700;color:#f44}.statBoxButton{cursor:pointer;border:1px solid gray;padding:.25em;display:inline-block;white-space:nowrap;border-radius:4px}.mainContainer{width:100%;max-width:1200px;margin:auto;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;box-sizing:border-box;padding-top:0;border:1px solid #333}.gauges,.gaugeRow{display:flex;justify-content:space-evenly;align-items:center;gap:1rem}.statusText{margin-top:.5em;font-weight:700;font-size:1.2em;text-align:center;color:#f44}.settingsDialog{border:1px solid #eee;border-radius:8px;background-color:#333;max-width:1000px;position:absolute;top:10%;width:80%;margin:auto;padding:1em;vertical-align:top}.statBoxes{margin-top:.1em;display:flex;justify-content:space-evenly;width:100%}#auto_edging_duration_minutes{accent-color:red;background:linear-gradient(to right,red 0% 100%)}.settingSliders{margin-top:2em;width:80vw;display:flex;flex-direction:column;gap:.5em;justify-content:center}.settingSliders #max_denied{accent-color:red;background:linear-gradient(to right,red 0% 100%)}.topButton{cursor:pointer;margin:.2%;padding-bottom:0;border-radius:5px}.circular-progress{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:25vw}.circular-progress svg{width:20vw;height:20vw}.belowCircleButton{border-radius:8px;height:1.75rem;line-height:.75rem;color:#000;cursor:pointer;margin-top:.75rem;width:10em}@media screen and (max-width:800px){.radioBoxes{flex-direction:column;align-items:center}.radioBox{display:flex;justify-content:space-around;margin-bottom:.3em;width:75%;font-size:.5em}.statBoxButton{font-size:.5em}.gauges{flex-direction:column;gap:1.5rem}.gaugeRow{width:100vw}.circular-progress{max-width:40vw}.circular-progress svg{width:30vw;height:30vw}}@keyframes flashRedPink{0%,to{stroke:red}50%{stroke:#f66}}@keyframes flashRedPinkText{0%,to{fill:red;color:red}50%{fill:#f66;color:#f66}}@keyframes flashOrangeYellow{0%,to{stroke:orange}50%{stroke:#ff0}}@keyframes flashOrangeYellowText{0%,to{fill:orange}50%{fill:#ff0}}@keyframes flashPinkWhite{0%,to{stroke:#ff7fff}50%{stroke:#ffb3ff}}@keyframes flashPinkWhiteText{0%,to{fill:#ff7fff}50%{fill:#ffb3ff}}.cooldown-flash-stroke{animation:flashRedPink .5s infinite}.cooldown-flash-text{animation:flashRedPinkText .5s infinite}.cooldown-flash-stroke-orange{animation:flashOrangeYellow .5s infinite}.cooldown-flash-text-orange{animation:flashOrangeYellowText .5s infinite}.cooldown-flash-stroke-pink{animation:flashPinkWhite .5s infinite}.cooldown-flash-text-pink{animation:flashPinkWhiteText .5s infinite}input[type=range][readonly]{-webkit-appearance:none;appearance:none}input[type=range][readonly]::-webkit-slider-track{width:50px;height:100%;background:linear-gradient(to bottom,orange 0% 100%);border-radius:25px;border:2px solid #ff8800}input[type=range][readonly]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:50px;height:20px;background:#fff;border:3px solid orange;border-radius:10px;cursor:default}input[type=range][readonly]::-moz-range-track{width:50px;height:100%;background:linear-gradient(to bottom,orange 0% 100%);border-radius:25px;border:2px solid #ff8800}input[type=range][readonly]::-moz-range-thumb{width:50px;height:20px;background:#fff;border:3px solid orange;border-radius:10px;cursor:default}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
